<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>TX2 Bootloader Update and Redundancy</title><link rel="Prev" href="bootflow_tx2.html" title="Previous" /><link rel="Next" href="partition_setup.html" title="Next" /><link rel="StyleSheet" href="css/bootloader_update_tx2.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/bootloader_update_tx2_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN4FDkqFZHE8uvMFVV_002bWrFrA" class="ww_skin_page_body" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt" onload="Page.OnLoad('../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html');"><header id="wwconnect_header"><div><table width="100%" align="center" summary=""><tr><td class="Header_Left"><img alt="NVIDIA Tegra" src="images/NVLogo_2D_H.jpg" width="204" height="44" border="0" /></td><td class="Header_Right"><div>NVIDIA Tegra Linux Driver Package</div><br />
           Development Guide <br /><font size="-1"><div>28.2 Release</div></font><br /></td></tr></table></div><!--     <br clear="all" />
 --><hr color="#DEE4F0" /><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwpID0E01I0HA" class="Heading_2_Top">TX2 Bootloader Update and Redundancy</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0VI0HA">A/B Slot Layout</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0RI0HA">A/B System Update</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0NI0HA">Partition Selection</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0EI0HA">Update Engine</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E02H0HA">Bootloader Implementation</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0SH0HA">Partition Settings</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0IH0HA">Update Engine Usage</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0UF0HA">Enabling A/B Redundancy</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0IF0HA">Bootloader Tools</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0GF0HA">Boot Control</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0BF0HA">Bootloader Update Payload Generator</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0VE0HA">SMD Image Generator</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0SD0HA">Using the Update Engine Script</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E06C0HA">Update Engine State Machine</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E03C0HA">Manually Modifying Boot Slots</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0GC0HA">Sample Boot Log</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E2HA">Generating the Bootloader Payload Update</a></div></dd></dl></div><div id="wwpID0E0ZI0HA" class="Body_Text">The bootloader update process provides a safe bootloader update and ensures a workable bootloader partition remains on the Jetson TX2 boot storage during the update. This is achieved by keeping two sets of bootloader partitions, referred to as Slot A and Slot B, where a slot is a set of partitions that contain boot images.</div><div id="wwpID0E0YI0HA" class="Body_Text">Additionally, the bootloader redundancy maintains the same bootloader image on both bootloader slots; thereby allowing the system to boot from a redundant slot even if current slot is corrupted. </div><div id="wwpID0E0XI0HA" class="Body_Text">This A/B bootloader update process, with redundancy, prevents risks of boot failure after the bootloader update or images on current bootloader slot are corrupted.</div><div id="wwpID0E0WI0HA" class="Body_Text">Bootloader redundancy is disabled by default. For instructions to manually enable bootloader redundancy, consult <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0UF0HA" title="TX2 Bootloader Update and Redundancy">Enabling A/B Redundancy</a></span>.</div><div id="wwpID0E0VI0HA" class="Heading_3">A/B Slot Layout</div><div id="wwpID0E0UI0HA" class="Body_Text">The principle of shadow copies enables multiple placeholders. All placeholders, but one, holds backup copies. Each copy constitutes a potential candidate to boot from. However, based on runtime decisions, the correct copy of the binary is loaded to continue with the boot process. These two shadow copies are commonly referred to as Slot A and Slot B. This two-slot implementation is as follows:</div><div id="wwpID0E0TI0HA" class="Figure">Two Slot Implementation Layout</div><div class="ww_skin_page_overflow"><div id="wwpID0E0SI0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image1.png" style="display: inline; left: 0pt; top: 0pt" alt="" /></div></div><div id="wwpID0E0RI0HA" class="Heading_3">A/B System Update</div><div id="wwpID0E0QI0HA" class="Body_Text">The A/B slot system updates affects these components:</div><div id="wwpID0E0PI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0NI0HA" title="TX2 Bootloader Update and Redundancy">Partition selection</a></span></div><div id="wwpID0E0OI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0EI0HA" title="TX2 Bootloader Update and Redundancy">Update engine</a></span></div><div id="wwpID0E0NI0HA" class="Heading_4">Partition Selection</div><div id="wwpID0E0MI0HA" class="Body_Text">A/B system updates use two sets of partitions, referred to as slots. The system runs from the current slot, while the partitions in the unused slot are not accessed by the running system during normal operation. This approach makes updates fault resistant by keeping the unused slot as a fallback. If an error occurs during or immediately after an update, the system can roll back to the old slot and continue with a working system. To achieve this goal, partitions must be updated and cannot be used by the current slot, even if the partition includes only one copy.</div><div id="wwpID0E0LI0HA" class="Body_Text">Each slot has a bootable attribute that states whether the slot contains a correct system that can be used to boot the device. The current slot is bootable when the system is running, but the other slot may have an older, same, or newer version of the system. Regardless of what the current slot is, there is one slot that is the active slot; this is the slot the bootloader boots from on the next boot, or the preferred slot.</div><div id="wwpID0E0KI0HA" class="Body_Text">Each slot also has a successful attribute as set by the user space Update Engine (UE). The attribute is set the first time a newly updated slot boots up successfully to the kernel.</div><div id="wwpID0E0JI0HA" class="Body_Text">A bootable slot that was not marked as successful, after several attempts were made to boot from it, must be marked as unbootable by the bootloader. This includes changing the active slot to another bootable slot that is normally the slot running immediately before the attempt to boot into the new, active slot. The slot status details are defined in the Slot MetaData (SMD) structure as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E0II0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image2.png" style="display: inline; left: 0pt; top: 0pt" alt="" /></div></div><div id="wwpID0E0HI0HA" class="Body_Text">Where:</div><div id="wwpID0E0GI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>A bootable slot is the slot with a priority and a <span class="Code_Char">retry_count</span> greater than 0.</div><div id="wwpID0E0FI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>A current or active slot is the slot with the highest priority, a <span class="Code_Char">retry_count</span> greater than 0, and is booted from the next power cycle.</div><div id="wwpID0E0EI0HA" class="Heading_4">Update Engine</div><div id="wwpID0E0DI0HA" class="Body_Text">The A/B system updates use the update engine to prepare the system to boot into a new updated version. The update engine performs these actions:</div><div id="wwpID0E0CI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Reads the <span class="Code_Char">bl_update_payload</span> and writes data to the unused slot A/B partitions as instructed by the bootloader update payload.</div><div id="wwpID0E0BI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Calls the <span class="Code_Char">boot_control</span> interface in a pre-defined workflow.</div><div id="wwpID0E0AI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Invokes the system reboot to reboot into the updated slot.</div><div id="wwpID0E06H0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Updates images on other slots to keep both A and B synchronized with the new version.</div><div id="wwpID0E05H0HA" class="Body_Text">For more information, see:</div><div id="wwpID0E04H0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0IH0HA" title="TX2 Bootloader Update and Redundancy">Update Engine Usage</a></span></div><div id="wwpID0E03H0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0SD0HA" title="TX2 Bootloader Update and Redundancy">Running the Update Engine</a></span></div><div id="wwpID0E02H0HA" class="Heading_3">Bootloader Implementation</div><div id="wwpID0E01H0HA" class="Body_Text">The A/B system uses the boot Slot MetaData (SMD) to store the slot status. It communicates between the Update Engine and the bootloader. The A/B bootloader runs the state machine to select the boot slot and handles the update failure cases as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E0ZH0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image3.png" style="display: inline; left: 0pt; top: 0pt" alt="A screenshot of a cell phone Description generated with very high confidence" /></div></div><div id="wwpID0E0YH0HA" class="Body_Text">MB1 loads the slot metadata partition to find the current slot. If a bootable slot is not present, the device hangs. When a boot slot is found, the boot slot number, 0 or 1, along with a valid flag, is cached into scratch register 99 to be used by MB2, CBoot, or later stage loaders.</div><div class="ww_skin_page_overflow"><table class="Table_Grid" style="margin-left: 36pt" cellspacing="0" summary=""><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 40.5pt"><div id="wwpID0EAFC0XH0HA" class="Cell_Heading">31</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 67.5pt"><div id="wwpID0EAEC0XH0HA" class="Cell_Heading">29</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 72pt"><div id="wwpID0EADC0XH0HA" class="Cell_Heading">25</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 67.5pt"><div id="wwpID0EACC0XH0HA" class="Cell_Heading">21</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 72pt"><div id="wwpID0EABC0XH0HA" class="Cell_Heading">18</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 76pt"><div id="wwpID0EAAC0XH0HA" class="Cell_Heading">15</div></td></tr><tr><td style="background-color: #C2D69B; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAFB0XH0HA" class="Cell_Heading">Flag</div></td><td style="background-color: #C2D69B; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EBEB0XH0HA" class="Cell_Heading">Slot A</div><div id="wwpID0EAEB0XH0HA" class="Cell_Heading">Retry Count</div></td><td style="background-color: #C2D69B; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EBDB0XH0HA" class="Cell_Heading">Slot B</div><div id="wwpID0EADB0XH0HA" class="Cell_Heading">Retry Count</div></td><td style="background-color: #C2D69B; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0XH0HA" class="Cell_Heading">Maximum Slots</div></td><td style="background-color: #C2D69B; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0XH0HA" class="Cell_Heading">Current Slot Number</div></td><td style="background-color: #C2D69B; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0XH0HA" class="Cell_Heading">Magic Pattern CAFE</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="6"><div id="wwpID0EAAA0XH0HA" class="Cell_Heading">SCRATCH 99 Register</div></td></tr></table></div><div id="wwpID0E0WH0HA" class="Body_Text">The name of the partition that is being loaded is derived as follows:</div><div id="wwpID0E0VH0HA" class="Code">partition_name = &lt;base_name&gt;_&lt;slot_value&gt;”</div><div id="wwpID0E0UH0HA" class="Code">slot value = “” for slot 0</div><div id="wwpID0E0TH0HA" class="Code">slot value = “_b” for slot 1</div><div id="wwpID0E0SH0HA" class="Heading_4">Partition Settings</div><div id="wwpID0E0RH0HA" class="Body_Text">All A/B partitions must be named as follows:</div><div id="wwpID0E0QH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>mb1</div><div id="wwpID0E0PH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>mb1_b</div><div id="wwpID0E0OH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>mb2</div><div id="wwpID0E0NH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>mb2_b</div><div id="wwpID0E0MH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>cboot</div><div id="wwpID0E0LH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>cboot_b</div><div id="wwpID0E0KH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>etc</div><div id="wwpID0E0JH0HA" class="Body_Text">The empty suffix for Slot A is to ensure backward compatibility with legacy A/B unaware partition loading mechanisms.</div><div id="wwpID0E0IH0HA" class="Heading_4">Update Engine Usage</div><div id="wwpID0E0HH0HA" class="Body_Text">The update engine, <span class="Code_Char">nv_update_engine</span>, uses the Slot MetaData to instruct the bootloader what slot to boot from. The following scenarios identify all UE states.</div><div id="wwpID0E0GH0HA" class="Heading_5">Normal Usecase</div><div id="wwpID0E0FH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system is running from the current slot, either Slot A or Slot B.</div><div id="wwpID0E0EH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>No updates have been applied. </div><div id="wwpID0E0DH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The current system slot is bootable, successful, and active slot. </div><div id="wwpID0E0CH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>In this case, the system is running from Slot B. </div><div id="wwpID0E0BH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Slot A is the redundant slot due to a lower priority than Slot B, as follows:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 83.25pt"><div id="wwpID0EADC0AH0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EACC0AH0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EABC0AH0HA" class="Cell_Heading"><span class="Strong">retry_count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EAAC0AH0HA" class="Cell_Heading"><span class="Strong">boot_successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0AH0HA" class="Cell_Text">Slot 0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0AH0HA" class="Cell_Text">14</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0AH0HA" class="Cell_Text">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0AH0HA" class="Cell_Text">1</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0AH0HA" class="Cell_Text">Slot 1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0AH0HA" class="Cell_Text">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0AH0HA" class="Cell_Text">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0AH0HA" class="Cell_Text">1</div></td></tr></table></div><div id="wwpID0E06G0HA" class="Heading_5">Update in Progress</div><div id="wwpID0E05G0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system is running from Slot B. </div><div id="wwpID0E04G0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Slot B is the bootable, successful, and active slot. </div><div id="wwpID0E03G0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Slot A was marked as unbootable because the contents of Slot A are being updated and the update is not yet complete.</div><div id="wwpID0E02G0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>A reboot in this state must continue booting from Slot B.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 83.25pt"><div id="wwpID0EADC01G0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EACC01G0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EABC01G0HA" class="Cell_Heading"><span class="Strong">retry_count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EAAC01G0HA" class="Cell_Heading"><span class="Strong">boot_successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB01G0HA" class="Cell_Text">Slot 0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB01G0HA" class="Cell_Text">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB01G0HA" class="Cell_Text">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB01G0HA" class="Cell_Text">0</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA01G0HA" class="Cell_Text">Slot 1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA01G0HA" class="Cell_Text">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA01G0HA" class="Cell_Text">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA01G0HA" class="Cell_Text">1</div></td></tr></table></div><div id="wwpID0E0ZG0HA" class="Heading_5">Update Applied with a Reboot Pending</div><div id="wwpID0E0YG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system is running from Slot B.</div><div id="wwpID0E0XG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Slot B is bootable, successful, but Slot A is marked as active and therefore is marked as bootable.</div><div id="wwpID0E0WG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Slot A is not yet marked as successful and some number of attempts to boot from Slot must be made by the bootloader.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 83.25pt"><div id="wwpID0EADC0VG0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EACC0VG0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EABC0VG0HA" class="Cell_Heading"><span class="Strong">retry_count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EAAC0VG0HA" class="Cell_Heading"><span class="Strong">boot_successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0VG0HA" class="Cell_Text">Slot 0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0VG0HA" class="Cell_Text">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0VG0HA" class="Cell_Text">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0VG0HA" class="Cell_Text">0</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0VG0HA" class="Cell_Text">Slot 1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0VG0HA" class="Cell_Text">14</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0VG0HA" class="Cell_Text">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0VG0HA" class="Cell_Text">1</div></td></tr></table></div><div id="wwpID0E0UG0HA" class="Heading_5">System Reboot into a New Update</div><div id="wwpID0E0TG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system is running from Slot A for the first time.</div><div id="wwpID0E0SG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Slot B is still bootable and successful, while Slot A is only bootable and active but not successful.</div><div id="wwpID0E0RG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The Update Engine must mark Slot A as successful after some checks are made.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 83.25pt"><div id="wwpID0EADC0QG0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EACC0QG0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EABC0QG0HA" class="Cell_Heading"><span class="Strong">retry_count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EAAC0QG0HA" class="Cell_Heading"><span class="Strong">boot_successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0QG0HA" class="Cell_Text">Slot 0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0QG0HA" class="Cell_Text">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0QG0HA" class="Cell_Text">6</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0QG0HA" class="Cell_Text">0</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0QG0HA" class="Cell_Text">Slot 1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0QG0HA" class="Cell_Text">14</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0QG0HA" class="Cell_Text">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0QG0HA" class="Cell_Text">1</div></td></tr></table></div><div id="wwpID0E0PG0HA" class="Heading_5">Duplicate in Progress</div><div id="wwpID0E0OG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system is running from Slot A with a new version.</div><div id="wwpID0E0NG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Slot B is marked as unbootable since the contents of Slot B are being updated but not yet completed.</div><div id="wwpID0E0MG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>A reboot in this state must continue booting from Slot A.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 83.25pt"><div id="wwpID0EADC0LG0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EACC0LG0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EABC0LG0HA" class="Cell_Heading"><span class="Strong">retry_count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EAAC0LG0HA" class="Cell_Heading"><span class="Strong">boot_successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0LG0HA" class="Cell_Text">Slot 0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0LG0HA" class="Cell_Text">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0LG0HA" class="Cell_Text">6</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0LG0HA" class="Cell_Text">0</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0LG0HA" class="Cell_Text">Slot 1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0LG0HA" class="Cell_Text">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0LG0HA" class="Cell_Text">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0LG0HA" class="Cell_Text">0</div></td></tr></table></div><div id="wwpID0E0KG0HA" class="Heading_5">Duplicate Completion</div><div id="wwpID0E0JG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system is running from Slot A with a new version.</div><div id="wwpID0E0IG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Slot B was synched up with the new version.</div><div id="wwpID0E0HG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Since Slot A, with the new version, is bootable and successful, marks Slot B as bootable and successful but with lower priority.</div><div id="wwpID0E0GG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Slot B acts as a redundant slot.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 83.25pt"><div id="wwpID0EADC0FG0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EACC0FG0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EABC0FG0HA" class="Cell_Heading"><span class="Strong">retry_count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EAAC0FG0HA" class="Cell_Heading"><span class="Strong">boot_successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0FG0HA" class="Cell_Text">Slot 0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0FG0HA" class="Cell_Text">15</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0FG0HA" class="Cell_Text">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0FG0HA" class="Cell_Text">1</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0FG0HA" class="Cell_Text">Slot 1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0FG0HA" class="Cell_Text">14</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0FG0HA" class="Cell_Text">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0FG0HA" class="Cell_Text">1</div></td></tr></table></div><div id="wwpID0E0EG0HA" class="Heading_5">System Booted into Redundant Slot</div><div id="wwpID0E0DG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The system is running from Slot A.</div><div id="wwpID0E0CG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>There is no update or duplicate.</div><div id="wwpID0E0BG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Device boot must continue booting from Slot A.</div><div id="wwpID0E0AG0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>However, due to data corruption or I/O errors, after failing for some number of attempts to boot from Slot A, the bootloader marks Slot A as unbootable and boots into Slot B.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 35.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 83.25pt"><div id="wwpID0EADC06F0HA" class="Cell_Heading"><span class="Strong">Slot</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EACC06F0HA" class="Cell_Heading"><span class="Strong">Priority</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EABC06F0HA" class="Cell_Heading"><span class="Strong">retry_count</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 95.25pt"><div id="wwpID0EAAC06F0HA" class="Cell_Heading"><span class="Strong">boot_successful</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB06F0HA" class="Cell_Text">Slot 0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB06F0HA" class="Cell_Text">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB06F0HA" class="Cell_Text">0</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB06F0HA" class="Cell_Text">0</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA06F0HA" class="Cell_Text">Slot 1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA06F0HA" class="Cell_Text">14</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA06F0HA" class="Cell_Text">7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA06F0HA" class="Cell_Text">1</div></td></tr></table></div><div id="wwpID0E05F0HA" class="Body_Text">The update engine is limited as to what it can do during an update. Duplicates, such as the current slot, cannot be allowed until the system boots into a new version. </div><div id="wwpID0E04F0HA" class="Body_Text">To maintain a robust system, the update process cannot modify the partition table, and the contents of non A/B partitions that cannot be wiped with a factory reset.</div><div id="wwpID0E03F0HA" class="Body_Text">The update engine is launched under these scenarios:</div><div id="wwpID0E02F0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>An explicit launch by the user to update partitions with newer versions, with the command:</div><div id="wwpID0E01F0HA" class="Code">$ sudo nv_update_engine --install</div><div id="wwpID0E0ZF0HA" class="List_Continue">The update engine applies the bootloader update payload (BUP) during the update. The BUP must be named <span class="Code_Char">bl_update_payload</span> and must be placed under:</div><div id="wwpID0E0YF0HA" class="Code">/opt/ota_package</div><div id="wwpID0E0XF0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Update Engine is launched by the boot service during a system boot with the command:</div><div id="wwpID0E0WF0HA" class="Code">$ sudo nv_update_engine --verify</div><div id="wwpID0E0VF0HA" class="List_Continue">The update engine loads the slot metadata, evaluates the current state, and runs a pre-defined workflow. In normal boot, the update engine is in normal boot state, where an update is not applied and a duplicate is not required. The update engine simply exits.</div><div id="wwpID0E0UF0HA" class="Heading_3">Enabling A/B Redundancy</div><div id="wwpID0E0TF0HA" class="Body_Text">There are two methods for enabling A/B redundancy:</div><div id="wwpID0E0SF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Creating an SMD image and setting redundancy settings.</div><div id="wwpID0E0RF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Using the <span class="Code_Char">nv_update_engine</span> tool to enable redundancy.</div><div id="wwpID0E0QF0HA" class="Heading_5">To enable redundancy by creating an SMD image</div><div id="wwpID0E0PF0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Modify the SMD configuration file <span class="Code_Char">smd_info.cfg</span> to enable A/B slots.</div><div id="wwpID0E0OF0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Run the host tool <span class="Code_Char">nv_smd_generator</span> on the x86 system to generate the SMD image with the updated SMD configuration file.</div><div id="wwpID0E0NF0HA" class="List_Continue">For instructions on generating the SMD image, consult <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0VE0HA" title="TX2 Bootloader Update and Redundancy">SMD Image Generator</a></span>.</div><div id="wwpID0E0MF0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Run the <span class="Code_Char">flash.sh</span> script to perform a fresh flash of the device with all the partitions.</div><div id="wwpID0E0LF0HA" class="Heading_5">To enable redundancy using the nv_update_engine</div><div id="wwpID0E0KF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>On the target system launch the <span class="Code_Char">nv_update_engine</span> tool to enable A/B for the flashed device with A/B disabled SMD image.</div><div id="wwpID0E0JF0HA" class="List_Continue">For instructions consult <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E0EI0HA" title="TX2 Bootloader Update and Redundancy">Using the Update Engine Script</a></span>. </div><div id="wwpID0E0IF0HA" class="Heading_3">Bootloader Tools</div><div id="wwpID0E0HF0HA" class="Body_Text">The following NVIDIA tools are provided for ease-of-use of the bootloader update process.</div><div id="wwpID0E0GF0HA" class="Heading_4">Boot Control</div><div id="wwpID0E0FF0HA" class="Body_Text">The <span class="Code_Char">nvbootctrl</span> tool is intended for debugging purposes to load in the SMD image and dump the slot information. It can also be used to set the active slot to forcefully change the boot slot in the next boot. </div><div id="wwpID0E0EF0HA" class="Heading_5">To display the command usage</div><div id="wwpID0E0DF0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Execute the command:</div><div id="wwpID0E0CF0HA" class="Code">$ sudo nvbootctrl</div><div id="wwpID0E0BF0HA" class="Heading_4">Bootloader Update Payload Generator</div><div id="wwpID0E0AF0HA" class="Body_Text">The Bootloader Update Payload (BUP) is the payload that is applied by the update engine during an update. The BUP is generated by the host tool <span class="Code_Char">build_l4t_bup.sh</span> script that is packaged along with the <span class="Code_Char">flash.sh</span> flashing script tool in the Linux for Tegra board support package.</div><div id="wwpID0E06E0HA" class="Heading_5">To launch the BUP generator</div><div id="wwpID0E05E0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Execute the command:</div><div id="wwpID0E04E0HA" class="Code">$ sudo [env={value}, …] ./build_l4t_bup.sh [options] &lt;target_board&gt; &lt;rootdev&gt;</div><div id="wwpID0E03E0HA" class="List_Continue">Where:</div><div id="wwpID0E02E0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;target_board&gt;</span> is your Linux for Tegra Jetson TX2 board.</div><div id="wwpID0E01E0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;rootdev&gt;</span> is the partition where the root file system is to be flashed.</div><div id="wwpID0E0ZE0HA" class="List_Continue">The resulting BUP is stored in the bootloader directory with the filename <span class="Code_Char">bl_update_payload</span>. </div><div id="wwpID0E0YE0HA" class="List_Continue">Before launching the Update Engine, the BUP must be placed into the target system at:</div><div id="wwpID0E0XE0HA" class="Code">/opt/ota_package/</div><div id="wwpID0E0WE0HA" class="Body_Text">For more information, see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootloader_update_tx2.html#wwpID0E2HA" title="TX2 Bootloader Update and Redundancy">Generating the Bootloader Payload Update</a></span>.</div><div id="wwpID0E0VE0HA" class="Heading_4">SMD Image Generator</div><div id="wwpID0E0UE0HA" class="Body_Text">Run the <span class="Code_Char">nv_smd_generator</span> tool on X86 host systems to generate the default SMD image <span class="Code_Char">slot_metadata.bin</span> that is flashed into the SMD partition.</div><div id="wwpID0E0TE0HA" class="Heading_5">To launch the image generator</div><div id="wwpID0E0SE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Execute the command:</div><div id="wwpID0E0RE0HA" class="Code">$ nv_smd_generator &lt;config_file&gt; &lt;output_file&gt;</div><div id="wwpID0E0QE0HA" class="List_Continue">Where:</div><div id="wwpID0E0PE0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;config_file&gt;</span> is the SMD configuration file.</div><div id="wwpID0E0OE0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;output_file&gt;</span> is the <span class="Code_Char">slot_metadata.bin</span> output SMD image.</div><div id="wwpID0E0NE0HA" class="List_Continue">For example:</div><div id="wwpID0E0ME0HA" class="Code">$ sudo nv_smd_generator smd_info.cfg slot_metadata.bin</div><div id="wwpID0E0LE0HA" class="List_Continue">In the Linux for Tegra Board Support Package, <span class="Code_Char">nv_smd_generator</span>, the default SMD configuration file <span class="Code_Char">smd_info.cfg</span>, and the default image file <span class="Code_Char">slot_metadata.bin</span>, are installed under the directory:</div><div id="wwpID0E0KE0HA" class="Code">&lt;top&gt;/bootloader</div><div id="wwpID0E0JE0HA" class="List_Continue">By default, the <span class="Code_Char">smd_info.cfg</span> configuration file is set so that Slot A is the only available slot. This effectively disables redundancy.:</div><div id="wwpID0E0IE0HA" class="Code">&lt; VERSION 3 &gt;</div><div id="wwpID0E0HE0HA" class="Code"># </div><div id="wwpID0E0GE0HA" class="Code"># Config 1: A/B Disabled (Default)</div><div id="wwpID0E0FE0HA" class="Code"># </div><div id="wwpID0E0EE0HA" class="Code"># &lt;priority&gt;   &lt;suffix&gt;   &lt;retry_count&gt;   &lt;boot_successful&gt;</div><div id="wwpID0E0DE0HA" class="Code">15               _a            7              1</div><div id="wwpID0E0CE0HA" class="Code">&nbsp;</div><div id="wwpID0E0BE0HA" class="Code"># </div><div id="wwpID0E0AE0HA" class="Code"># Config 2: A/B Enabled where A is boot slot and B is </div><div id="wwpID0E06D0HA" class="Code">#           redundant slot</div><div id="wwpID0E05D0HA" class="Code">#</div><div id="wwpID0E04D0HA" class="Code">##&lt; REDUNDANCY_USER 1 &gt;</div><div id="wwpID0E03D0HA" class="Code"># slot info order is important!</div><div id="wwpID0E02D0HA" class="Code"># &lt;priority&gt;    &lt;suffix&gt;     &lt;retry_count&gt; &lt;boot_successful&gt;</div><div id="wwpID0E01D0HA" class="Code">##15               _a            7              1</div><div id="wwpID0E0ZD0HA" class="Code">##14               _b            7              1</div><div id="wwpID0E0YD0HA" class="List_Continue">Use Config 2: to create the SMD image and enable A/B redundancy.</div><div id="wwpID0E0XD0HA" class="Heading_5">To use the desired configuration</div><div id="wwpID0E0WD0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Add a # to comment out the configuration you wish to disable. For example, Config 1.</div><div id="wwpID0E0VD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Remove the ## from the configuration you wish to enable. For example, Config 2.</div><div id="wwpID0E0UD0HA" class="List_Continue">Once enabled, all bootloader related partitions, the kernel partition, and the kernel-dtb partion have A/B slots. However, the user can limit A/B redundancy support for the bootloader only by setting <span class="Code_Char">REDUNDANCY_USER</span> to 0.</div><div id="wwpID0E0TD0HA" class="List_Continue">File system redundancy support is left for the user.</div><div id="wwpID0E0SD0HA" class="Heading_3">Using the Update Engine Script</div><div id="wwpID0E0RD0HA" class="Body_Text">Run the update Engine script on the target system .</div><div id="wwpID0E0QD0HA" class="Heading_5">To update bootloader</div><div id="wwpID0E0PD0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Enter superuser mode by executing the command:</div><div id="wwpID0E0OD0HA" class="Code">$ sudo su</div><div id="wwpID0E0ND0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>If a BUP directory does not exist, create one by executing the command:</div><div id="wwpID0E0MD0HA" class="Code">$ mkdir /opt/ota_package</div><div id="wwpID0E0LD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Copy the BUP from the host system to this newly created BUP directory, with the command:</div><div id="wwpID0E0KD0HA" class="Code">$ scp &lt;host_loc:bl_update_payload&gt; /opt/ota_package/</div><div id="wwpID0E0JD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Where <span class="Code_Char">&lt;host_loc:bl_update_payload&gt;</span> is where the BUP is built on the host system.</div><div id="wwpID0E0ID0HA" class="List_Continue_2">The user can also use a USB key to copy the BUP from the host system to the target system.</div><div id="wwpID0E0HD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Launch the Update Engine to update the bootloader on the non-current slot with the command:</div><div id="wwpID0E0GD0HA" class="Code">$ nv_update_engine --install</div><div id="wwpID0E0FD0HA" class="Heading_5">To enable/disable A/B redundancy</div><div id="wwpID0E0ED0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Execute this command to enable redundancy:</div><div id="wwpID0E0DD0HA" class="Code">$ nv_update_engine --enable-ab</div><div id="wwpID0E0CD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Execute this command to disable redundancy:</div><div id="wwpID0E0BD0HA" class="Code">$ nv_update_engine --disable-ab</div><div id="wwpID0E0AD0HA" class="Body_Text">The command fails if the current boot slot is NOT 0.</div><div id="wwpID0E06C0HA" class="Heading_3">Update Engine State Machine</div><div id="wwpID0E05C0HA" class="Body_Text">The Update Engine state machine flow is as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E04C0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image4_2.png" style="display: inline; left: 0pt; top: 0pt" alt="" /></div></div><div id="wwpID0E03C0HA" class="Heading_3">Manually Modifying Boot Slots</div><div id="wwpID0E02C0HA" class="Body_Text">NVIDIA provides the <span class="Code_Char">nvbootctrl</span> tool for testing and development purposes. However, you may wish to manually change the boot slots or make modifications to the SMD partition from the userspace.</div><div id="wwpID0E01C0HA" class="Heading_5">To manually modify the boot slots</div><div id="wwpID0E0ZC0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Switch to superuser mode with this command</div><div id="wwpID0E0YC0HA" class="Code">$ sudo su</div><div id="wwpID0E0XC0HA" class="List_Continue">The default password is <span class="Code_Char">nvidia</span>.</div><div id="wwpID0E0WC0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Execute this command:</div><div id="wwpID0E0VC0HA" class="Code">nvbootctrl &lt;command&gt;</div><div id="wwpID0E0UC0HA" class="List_Continue">The default settings are for both Slot 0 and Slot 1 as bootable, with Slot 0 having higher priority.</div><div id="wwpID0E0TC0HA" class="List_Continue">Where <span class="Code_Char">&lt;command&gt;</span> is as follows:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 53.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 153pt"><div id="wwpID0EABL0SC0HA" class="Cell_Heading"><span class="Strong">Command</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 202.5pt"><div id="wwpID0EAAL0SC0HA" class="Cell_Heading"><span class="Strong">Description</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABJ0SC0HA" class="Cell_Text">get-number-slots</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAJ0SC0HA" class="Cell_Text">Printer the number of slots.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABI0SC0HA" class="Cell_Text">get-current-slot</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAI0SC0HA" class="Cell_Text">Prints the currently running SLOT.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABH0SC0HA" class="Cell_Text">mark-boot-successful</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAH0SC0HA" class="Cell_Text">Marks the current slot as GOOD.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABG0SC0HA" class="Cell_Text">set-active-boot-slot SLOT</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAG0SC0HA" class="Cell_Text">On next boot, loads and executes SLOT.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABF0SC0HA" class="Cell_Text">set-slot-as-unbootable SLOT</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAF0SC0HA" class="Cell_Text">Marks SLOT as invalid.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABE0SC0HA" class="Cell_Text">is-slot-bootable SLOT</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAE0SC0HA" class="Cell_Text">Returns 0 if SLOT is bootable.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD0SC0HA" class="Cell_Text">is-slot-marked-successful SLOT</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAD0SC0HA" class="Cell_Text">Returns 0 if SLOT is marked GOOD.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0SC0HA" class="Cell_Text">get-suffix SLOT</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0SC0HA" class="Cell_Text">Prints the suffix for the SLOT.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0SC0HA" class="Cell_Text">dump-slots-info</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0SC0HA" class="Cell_Text">Prints the information for the slots.</div></td></tr><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAA0SC0HA" class="Cell_Text"><span class="Strong">SLOT is the zero-based slot number.</span></div></td></tr></table></div><div id="wwpID0E0RC0HA" class="Heading_5">To show the current boot slot</div><div id="wwpID0E0QC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Execute this command:</div><div id="wwpID0E0PC0HA" class="Code">root@tegra-ubuntu:/home/nvidia# nvbootctrl get-current-slot</div><div id="wwpID0E0OC0HA" class="Code">0</div><div id="wwpID0E0NC0HA" class="Code">root@tegra-ubuntu:/home/nvidia#</div><div id="wwpID0E0MC0HA" class="Heading_5">To show the slot status</div><div id="wwpID0E0LC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Execute this command:</div><div id="wwpID0E0KC0HA" class="Code">root@tegra-ubuntu:/home/nvidia# nvbootctrl dump-slots-info  magic:0x43424e00,       version: 3 features: 3    num_slots: 2</div><div id="wwpID0E0JC0HA" class="Code">slot: 0, priority: 15, suffix: _a, retry_count: 7, boot_successful: 1</div><div id="wwpID0E0IC0HA" class="Code">slot: 1, priority: 14, suffix: _b, retry_count: 7, boot_successful: 1</div><div id="wwpID0E0HC0HA" class="Code">root@tegra-ubuntu:/home/nvidia#</div><div id="wwpID0E0GC0HA" class="Heading_3">Sample Boot Log</div><div id="wwpID0E0FC0HA" class="Body_Text">The boot slot is selected by MB1. The following sample log shows that Slot 1 is selected as the boot slot. The message displayed from MB1 is available from a debug build of MB1 that has messages enabled. Messages from MB2 are always available.</div><div id="wwpID0E0EC0HA" class="Code">[0000.040] I&gt; Welcome to MB1-coldboot(dev-version : 14.00.170822-t186-M-00.00-96e265a3)</div><div id="wwpID0E0DC0HA" class="Code">[0000.048] I&gt; rst_source : 0xb</div><div id="wwpID0E0CC0HA" class="Code">[0000.051] I&gt; rst_level : 0x1</div><div id="wwpID0E0BC0HA" class="Code">[0000.053] I&gt; Read lock all AES keyslots</div><div id="wwpID0E0AC0HA" class="Code">[0000.057] I&gt; Read lock all RSA keyslots</div><div id="wwpID0E06B0HA" class="Code">[0000.061] I&gt; Clear SE keyslots left open by BR</div><div id="wwpID0E05B0HA" class="Code">[0000.065] I&gt; Last mts-fallback status: 0x00000000</div><div id="wwpID0E04B0HA" class="Code">[0000.070] I&gt; Boot-device: eMMC</div><div id="wwpID0E03B0HA" class="Code">[0000.094] I&gt; sdmmc ddr50 mode</div><div id="wwpID0E02B0HA" class="Code">[0000.098] I&gt; A/B: bin_type (19) slot 0</div><div id="wwpID0E01B0HA" class="Code">[0000.102] I&gt; Binary(19) of size 512 is loaded @ 0x40043400</div><div id="wwpID0E0ZB0HA" class="Code">[0000.108] I&gt; Boot chain chosen: 1</div><div id="wwpID0E0YB0HA" class="Code">[0000.111] I&gt; Boot chain chosen: 1</div><div id="wwpID0E0XB0HA" class="Code">[0000.114] I&gt; magic:0x43424e00, version: 259, num_slots: 2</div><div id="wwpID0E0WB0HA" class="Code">[0000.119] I&gt; slot: 0, pri: 14, suffix: _a, retry: 7, boot_succ: 1</div><div id="wwpID0E0VB0HA" class="Code">[0000.125] I&gt; slot: 1, pri: 15, suffix: _b, retry: 6, boot_succ: 1</div><div id="wwpID0E0UB0HA" class="Code">[0000.131] I&gt; Loading MB1-BCT to SysRAM</div><div id="wwpID0E0TB0HA" class="Code">[0000.135] I&gt; A/B: bin_type (0) slot 1</div><div id="wwpID0E0SB0HA" class="Code">[0000.138] I&gt; Boot-device: eMMC </div><div id="wwpID0E0RB0HA" class="Code">. . . </div><div id="wwpID0E0QB0HA" class="Code">. . .</div><div id="wwpID0E0PB0HA" class="Code">[0000.888] I&gt; Welcome to MB2(TBoot-BPMP)(version: 01.00.160913-t186-M-00.00-mobile-09b4fbd4)</div><div id="wwpID0E0OB0HA" class="Code">[0000.897] I&gt; Default Heap @ [0xd486400 - 0xd488400]</div><div id="wwpID0E0NB0HA" class="Code">[0000.901] I&gt; DMA Heap @ [0x84a00000 - 0x85300000]</div><div id="wwpID0E0MB0HA" class="Code">[0000.906] I&gt; bit @ 0xd480000</div><div id="wwpID0E0LB0HA" class="Code">[0000.909] I&gt; BR-BCT relocated to 0xd7020000</div><div id="wwpID0E0KB0HA" class="Code">[0000.913] I&gt; Boot-device: eMMC</div><div id="wwpID0E0JB0HA" class="Code">[0000.917] I&gt; sdmmc bdev is already initialized</div><div id="wwpID0E0IB0HA" class="Code">[0000.922] I&gt; pmic: reset reason (nverc)	: 0x0</div><div id="wwpID0E0HB0HA" class="Code">[0000.926] I&gt; Reading GPT from 512 for device 00000003</div><div id="wwpID0E0GB0HA" class="Code">[0000.932] I&gt; Reading GPT from 8388096 for device 00000003</div><div id="wwpID0E0FB0HA" class="Code">[0000.939] I&gt; Found 13 partitions in 00000003 device</div><div id="wwpID0E0EB0HA" class="Code">[0000.944] I&gt; Reading GPT from 512 for device 00010003</div><div id="wwpID0E0DB0HA" class="Code">[0000.950] I&gt; Found 27 partitions in 00010003 device</div><div id="wwpID0E0CB0HA" class="Code">[0000.956] I&gt; A/B: bin_type (16) slot 1</div><div id="wwpID0E0BB0HA" class="Code">[0000.959] I&gt; Loading partition bpmp-fw_b at 0xd7800000</div><div id="wwpID0E0AB0HA" class="Code">[0000.964] I&gt; Reading two headers - addr:0xd7800000 blocks:1</div><div id="wwpID0E6HA" class="Code">[0000.970] I&gt; Addr: 0xd7800000, start-block: 58762425, num_blocks: 1</div><div id="wwpID0E5HA" class="Code">[0000.985] I&gt; Binary(16) of size 528848 is loaded @ 0xd7800000</div><div id="wwpID0E4HA" class="Code">. . . </div><div id="wwpID0E3HA" class="Code">. . .</div><div id="wwpID0E2HA" class="Heading_3">Generating the Bootloader Payload Update</div><div id="wwpID0E1HA" class="Body_Text">Use these procedures as examples to generate the bootloader payload update.</div><div id="wwpID0EZHA" class="Heading_5">To generate the BUP</div><div id="wwpID0EYHA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Execute these commands to create BUP image with the indicated <span class="Code_Char">FAB/BOARDID/FUSELEVEL</span> Jetson TX2 board:</div><div id="wwpID0EXHA" class="Code">$ cd &lt;top&gt;</div><div id="wwpID0EWHA" class="Code">$ sudo FAB=B00 BOARDID=3310 FUSELEVEL=fuselevel_production ./build_l4t_bup.sh jetson-tx2 mmcblk0p1</div><div id="wwpID0EVHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Place the target board into <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/quick_start.html#" title="Quick Start Guide">force recovery mode</a></span>.</div><div id="wwpID0EUHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Execute these commands to create BUP image for board connected to the host system:</div><div id="wwpID0ETHA" class="Code">$ cd &lt;top&gt;</div><div id="wwpID0ESHA" class="Code">$ sudo ./build_l4t_bup.sh jetson-tx2 mmcblk0p1</div><div id="wwpID0ERHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Execute these commands to create the PKC signed BUP image for indicated <span class="Code_Char">FAB/BOARDID/FUSELEVEL</span> Jetson TX2 board:</div><div id="wwpID0EQHA" class="Code">$ cd &lt;top&gt;</div><div id="wwpID0EPHA" class="Code">$ sudo FAB=B00 BOARDID=3310 FUSELEVEL=fuselevel_production ./build_l4t_bup.sh -s &lt;pkc_key_file&gt; jetson-tx2 mmcblk0p1</div><div id="wwpID0EOHA" class="Code">&nbsp;</div><div id="wwpID0ENHA" class="Code">Where </div><div id="wwpID0EMHA" class="Code" style="margin-left: 90pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>&lt;top&gt;<span class="Body_Text_Char"> is the location to run </span>flash.sh<span class="Body_Text_Char"> command.</span></div><div id="wwpID0ELHA" class="Code" style="margin-left: 90pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;pkc_key_file&gt;</span> <span class="Body_Text_Char">is the RSA private key file for your board. It must be located under</span> &lt;top&gt;/bootloader <span class="Body_Text_Char">directory or file name with complete path.</span></div><div id="wwpID0EKHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>Place the target board into <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/quick_start.html#" title="Quick Start Guide">force recovery mode</a></span>.</div><div id="wwpID0EJHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>Execute these commands to create the PKC signed BUP image for the board connected to the host system:</div><div id="wwpID0EIHA" class="Code">$ cd &lt;top&gt;</div><div id="wwpID0EHHA" class="Code">$ sudo ./build_l4t_bup.sh -s &lt;pkc_key_file&gt; -u &lt;pkc_key_file&gt; jetson-tx2 mmcblk0p1</div><div id="wwpID0EGHA" class="Code">&nbsp;</div><div id="wwpID0EFHA" class="Code">Where </div><div id="wwpID0EEHA" class="Code" style="margin-left: 90pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>&lt;top&gt;<span class="Body_Text_Char"> is the location to run </span>flash.sh<span class="Body_Text_Char"> command.</span></div><div id="wwpID0EDHA" class="Code" style="margin-left: 90pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;pkc_key_file&gt;</span> <span class="Body_Text_Char">is the RSA private key file for your board. It must be located under</span> &lt;top&gt;/bootloader <span class="Body_Text_Char">directory or file name with complete path.</span></div><div id="wwpID0EBHA" class="Code">&nbsp;</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /><hr color="#DEE4F0" /><table width="90%" align="center" summary=""><tr><td class="Footer_Left"><font color="gray"><b></b><br />
           Subject to Change | © 2017 by NVIDIA Corporation.
           All rights reserved.
        </font></td><td class="Footer_Right"><font color="gray"><div>PR-06076-R28</div><br /><div style="text-align: center; font-weight: bold;"><div>Revised: 05 Mar 2018 16:32:28</div></div></font></td></tr></table></footer></body></html>