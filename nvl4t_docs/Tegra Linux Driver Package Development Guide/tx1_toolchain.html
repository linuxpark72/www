<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Building the AARCH 64 Toolchain and glibc</title><link rel="Prev" href="display_configuration.html" title="Previous" /><link rel="Next" href="camera_dev.html" title="Next" /><link rel="StyleSheet" href="css/tx1_toolchain.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/tx1_toolchain_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/tx1_toolchain.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pUqAQyNxZVw1uuoafhbY8Iw" class="ww_skin_page_body" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt" onload="Page.OnLoad('../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/tx1_toolchain.html');"><header id="wwconnect_header"><div><table width="100%" align="center" summary=""><tr><td class="Header_Left"><img alt="NVIDIA Tegra" src="images/NVLogo_2D_H.jpg" width="204" height="44" border="0" /></td><td class="Header_Right"><div>NVIDIA Tegra Linux Driver Package</div><br />
           Development Guide <br /><font size="-1"><div>28.2 Release</div></font><br /></td></tr></table></div><!--     <br clear="all" />
 --><hr color="#DEE4F0" /><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwpID0E0FB0HA" class="Heading_2_Top">Building the AARCH 64 Toolchain and glibc</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/tx1_toolchain.html#wwpID0E0DB0HA">Toolchain Information</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/tx1_toolchain.html#wwpID0E5HA">Downloading the Pre-Built Toolchain</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/tx1_toolchain.html#wwpID0EYHA">Building the Toolchain</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/tx1_toolchain.html#wwpID0EMHA">Troubleshooting</a></div></dd></dl></div><div id="wwpID0E0EB0HA" class="Body_Text">The NVIDIA® Tegra® Linux Driver Package contains the script and patches used to create the set of toolchains that NVIDIA uses to produce the AARCH64 L4T binaries. This topic describes how to obtain and build these toolchains.</div><div id="wwpID0E0DB0HA" class="Heading_3">Toolchain Information</div><div id="wwpID0E0CB0HA" class="Body_Text">The AARCH64 toolchain is built as aarch64-unknown-linux-gnu. The toolchain binaries are statically built.</div><div id="wwpID0E0BB0HA" class="Body_Text">The toolchain contains the following components:</div><div id="wwpID0E0AB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>GCC version: 4.8.5</div><div id="wwpID0E6HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Glibc Version: 2.17</div><div id="wwpID0E5HA" class="Heading_3">Downloading the Pre-Built Toolchain</div><div id="wwpID0E4HA" class="Body_Text">Download the pre-built toolchain binaries from the Embedded Download Center on the NVIDIA Developer page at:</div><div id="wwpID0E3HA" class="Code"><span class="Hyperlink"><a href="https://developer.nvidia.com/embedded/downloads" target="external_window">https://developer.nvidia.com/embedded/downloads</a></span></div><div id="wwpID0E2HA" class="Body_Text">The AARCH64 toolchain is available at:</div><div id="wwpID0E1HA" class="Code"><span class="Hyperlink"><a href="http://developer.nvidia.com/embedded/dlc/l4t-gcc-toolchain-64-bit-28-1" target="external_window">http://developer.nvidia.com/embedded/dlc/l4t-gcc-toolchain-64-bit-28-1</a></span></div><div id="wwpID0EZHA" class="Body_Text">Copy the contents of the tarball to the location of your toolchain and start using it.</div><div id="wwpID0EYHA" class="Heading_3">Building the Toolchain</div><div id="wwpID0EXHA" class="Body_Text">The toolchain build script and patches are provided in the Jetson Toolchain Build package.</div><div id="wwpID0EWHA" class="Heading_5">To build the toolchain</div><div id="wwpID0EVHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Obtain the Toolchain Scripts package as described in <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/tx1_toolchain.html#wwpID0E5HA" title="Building the AARCH 64 Toolchain and glibc">Downloading the Pre-Built Toolchain</a></span>.</div><div id="wwpID0EUHA" class="List_Continue">The source TAR file is named: <span class="Code_Char">src_aarch64_gcc-4.8.5.tar</span></div><div id="wwpID0ETHA" class="List_Continue">The toolchain source tarball contains the following:</div><div id="wwpID0ESHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The required sources to build the toolchain.</div><div id="wwpID0ERHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The <span class="Code_Char">make-aarch64-toolchain.sh</span> script that builds the toolchain.</div><div id="wwpID0EQHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>A patches folder containing patches to the toolchain sources.</div><div id="wwpID0EPHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Run the toolchain building script.</div><div id="wwpID0EOHA" class="List_Continue">Build products are located in the <span class="Code_Char">install</span> directory.</div><div id="wwpID0ENHA" class="List_Continue">The <span class="Code_Char">get_src</span> function in the <span class="Code_Char">make-aarch64-toolchain.sh</span> script downloads all the relevant sources required for building this toolchain. These sources are also provided in the tarball. Users can comment the <span class="Code_Char">get_src</span> function in the <span class="Code_Char">make-aarch64-toolchain.sh</span> script.</div><div id="wwpID0EMHA" class="Heading_3">Troubleshooting</div><div id="wwpID0ELHA" class="Body_Text">Each step in the build process logs its progress and errors to a file named for that stage:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 166.15pt"><div id="wwpID0EABHKHA" class="Cell_Heading"><span class="Strong">Build Process Step</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 202.5pt"><div id="wwpID0EAAHKHA" class="Cell_Heading"><span class="Strong">Log File</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABGKHA" class="Cell_Text">Downloading sources</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAGKHA" class="Cell_Text">get_src.log</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABFKHA" class="Cell_Text">Applying patches</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAFKHA" class="Cell_Text">apply_patches.log</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABEKHA" class="Cell_Text">Build binutils</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAEKHA" class="Cell_Text">build_binutils.log</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABDKHA" class="Cell_Text">Installing Linux headers</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAADKHA" class="Cell_Text">install_linux_headers.log</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABCKHA" class="Cell_Text">Building GCC stage 1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAACKHA" class="Cell_Text">build_gcc_stage1.log</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABBKHA" class="Cell_Text">Building Glibc stage 1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAABKHA" class="Cell_Text">build_glibc_stage1.log</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABAKHA" class="Cell_Text">Building final Glibc</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAAKHA" class="Cell_Text">build_final_glibc.log</div></td></tr></table></div><div id="wwpID0EJHA" class="Body_Text">If the build succeeds, the script prints “Success!” at the end. Otherwise check log files for the last step shown to find the error.</div><div id="wwpID0EIHA" class="Body_Text">The following are two common build errors:</div><div id="wwpID0EHHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>If using Ubuntu 14.04, install the necessary packages, in addition to the ones mentioned in the README, with the following commands:</div><div id="wwpID0EGHA" class="Code">$ sudo apt-get install gawk</div><div id="wwpID0EFHA" class="Code">$ sudo apt-get install texinfo</div><div id="wwpID0EEHA" class="Code">$ sudo apt-get install automake</div><div id="wwpID0EDHA" class="Code">$ sudo apt-get install libtool</div><div id="wwpID0ECHA" class="Code">$ sudo apt-get install g++</div><div id="wwpID0EBHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The build script downloads sources for the toolchain components from well-known locations. These URLs may become outdated over time. Verify that the URLs in the <span class="Code_Char">get_src()</span> function are up-to-date. The toolchain components are also provided as separate tarball that users can use directly.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /><hr color="#DEE4F0" /><table width="90%" align="center" summary=""><tr><td class="Footer_Left"><font color="gray"><b></b><br />
           Subject to Change | © 2017 by NVIDIA Corporation.
           All rights reserved.
        </font></td><td class="Footer_Right"><font color="gray"><div>PR-06076-R28</div><br /><div style="text-align: center; font-weight: bold;"><div>Revised: 05 Mar 2018 16:32:30</div></div></font></td></tr></table></footer></body></html>