<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Power Management for TX1 Devices</title><link rel="Prev" href="clocks.html" title="Previous" /><link rel="Next" href="power_management_tx2.html" title="Next" /><link rel="StyleSheet" href="css/power_management_tx1.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/power_management_tx1_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="ponCbmZmBsh52FZMwf8UKrg" class="ww_skin_page_body" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt" onload="Page.OnLoad('../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html');"><header id="wwconnect_header"><div><table width="100%" align="center" summary=""><tr><td class="Header_Left"><img alt="NVIDIA Tegra" src="images/NVLogo_2D_H.jpg" width="204" height="44" border="0" /></td><td class="Header_Right"><div>NVIDIA Tegra Linux Driver Package</div><br />
           Development Guide <br /><font size="-1"><div>28.2 Release</div></font><br /></td></tr></table></div><!--     <br clear="all" />
 --><hr color="#DEE4F0" /><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwpID0E0RL0HA" class="Heading_2_Top">Power Management for TX1 Devices</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0LL0HA">Interacting Features</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0AL0HA">Kernel-Space Power Saving Features</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E05K0HA">Chipset Power States</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0RK0HA">Clock and Voltage Management</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0OK0HA">Regulator Framework</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0JK0HA">CPU Power Management</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0HK0HA">Frequency Management with cpufreq</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E03J0HA">Idle Management with cpuidle</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E03H0HA">Memory Power Management</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0SH0HA">Thermal Management</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0JH0HA">Linux Thermal Framework</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0FH0HA">Thermal Zone</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E04G0HA">Configuring a Thermal Zone via the Device Tree</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E05E0HA">Thermal Sensing in Linux</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E03E0HA">NCT Sensors</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0ME0HA">Thermal Cooling</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0KE0HA">Fan Management</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0DE0HA">Clock Throttling</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E02D0HA">Software Thermal Shutdown</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0YD0HA">Software-based Power Consumption Modeling</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E04C0HA">Related Tools and Techniques</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E02C0HA">Disabling 3D Frequency Scaling</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E0TC0HA">Setting Frequencies</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E5HA">Maximizing Tegra Performance</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0ELHA">Using CPU Hot Plug</a></div></dd></dl></dl></div><div id="wwpID0E0QL0HA" class="Body_Text">NVIDIA<span style="vertical-align: super">®</span> Tegra<span style="vertical-align: super">®</span> system-on-a-chip (SOC) and NVIDIA<span style="vertical-align: super">®</span> Tegra<span style="vertical-align: super">®</span> Board Support Package (BSP) provides many features related to power management, thermal management, and electrical management. These features deliver the best user experience possible given the constraints of a particular platform. The target user experience ensures the perception that the device provides:</div><div id="wwpID0E0PL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Uniformly high performance</div><div id="wwpID0E0OL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Excellent battery life</div><div id="wwpID0E0NL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Perfect stability</div><div id="wwpID0E0ML0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Comfortable and cool to the touch</div><div id="wwpID0E0LL0HA" class="Heading_3">Interacting Features</div><div id="wwpID0E0KL0HA" class="Body_Text">Power, thermal, and electrical management features dynamically constrain knobs, such as:</div><div id="wwpID0E0JL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Clock gate settings</div><div id="wwpID0E0IL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Clock frequencies</div><div id="wwpID0E0HL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Power gate (or regulator enable) settings</div><div id="wwpID0E0GL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Voltages</div><div id="wwpID0E0FL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Processor power state (i.e., which idle state is selected for the CPU)</div><div id="wwpID0E0EL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Peripheral power state (i.e., which idle state is selected for an I/O controller)</div><div id="wwpID0E0DL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Chipset power state</div><div id="wwpID0E0CL0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Availability of CPU cores to the OS</div><div id="wwpID0E0BL0HA" class="Body_Text">Some of these knobs are constrained by more than one feature. For example, <span class="Code_Char">cpufreq</span> implements <span class="Strong">load based scaling</span> based on the how busy the CPU is and adjusts the CPU frequency accordingly. CPU thermal management, however, can override the target frequency of <span class="Code_Char">cpufreq</span>. Consequently, before attempting to debug power, performance, thermal, or electrical problems, familiarize yourself with all of the power, thermal, and electrical management features present in the BSP.</div><div id="wwpID0E0AL0HA" class="Heading_3">Kernel-Space Power Saving Features</div><div id="wwpID0E06K0HA" class="Body_Text">This section describes the features that Tegra implements several features to save power and extend battery life. Many of these features are implemented by the Linux kernel, with support from firmware and hardware, and without significant involvement from user-space.</div><div id="wwpID0E05K0HA" class="Heading_4">Chipset Power States</div><div id="wwpID0E04K0HA" class="Body_Text">The supported power states are listed in order of increasing flexibility or configurability:</div><div id="wwpID0E03K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span style="font-weight: bold">Off:</span> There is only one way for a system to be off. </div><div id="wwpID0E02K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span style="font-weight: bold">SC7 minimally flexible </span>Deep Sleep (SC7) offers a small amount of configurability. For example, prior to entering Deep Sleep, software can select which of the many hardware wake events are allowed to wake the chip from Deep Sleep.</div><div id="wwpID0E01K0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span style="font-weight: bold">Active state is extraordinarily flexible in terms of power and performance:</span> It encompasses activity levels from low power audio playback through peak performance scenarios. Power consumption in the active state can range from tens of milliwatts up to multiple Watts.</div><div id="wwpID0E0ZK0HA" class="Heading_5">Supported Power States</div><div id="wwpID0E0YK0HA" class="Body_Text">The supported power states are as follows:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 89.65pt"><div id="wwpID0EACJ0XK0HA" class="Cell_Heading">Power State</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 81pt"><div id="wwpID0EABJ0XK0HA" class="Cell_Heading">Functionality</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 231.1pt"><div id="wwpID0EAAJ0XK0HA" class="Cell_Heading">Characteristics</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" rowspan="3"><div id="wwpID0EACI0XK0HA" class="Cell_Text">Off</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABI0XK0HA" class="Cell_Text" style="text-align: center">Power rails</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAI0XK0HA" class="Cell_Text">None of the power rails supplying Tegra and DRAM are powered.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABH0XK0HA" class="Cell_Text" style="text-align: center">State</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAH0XK0HA" class="Cell_Text">No state is maintained in Tegra or DRAM.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABG0XK0HA" class="Cell_Text" style="text-align: center">Exiting</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAG0XK0HA" class="Cell_Text">The only way to exit this state is via a cold-boot (into active mode).</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" rowspan="3"><div id="wwpID0EACF0XK0HA" class="Cell_Text">Deep Sleep (SC7)</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABF0XK0HA" class="Cell_Text" style="text-align: center">Power rails</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAF0XK0HA" class="Cell_Text">VDD_RTC, VDDIO_DDR, VDDIO_SYS, and DRAM power rails are powered on. VDD_CORE and VDD_CPU are powered off.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABE0XK0HA" class="Cell_Text" style="text-align: center">State</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAE0XK0HA" class="Cell_Text">Tegra maintains a small amount of state in the PMC block. DRAM maintains state.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD0XK0HA" class="Cell_Text" style="text-align: center">Exiting</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAD0XK0HA" class="Cell_Text">Exit from this state occurs based on a pre-defined set of wake events into active mode.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" rowspan="3"><div id="wwpID0EACC0XK0HA" class="Cell_Text">Active</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0XK0HA" class="Cell_Text" style="text-align: center">Power rails</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0XK0HA" class="Cell_Text">VDD_RTC, VDDIO_DDR, VDDIO_SYS, VDD_CORE, and DRAM power rails are powered on. Other power rails (including VDD_CPU) may be on.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0XK0HA" class="Cell_Text" style="text-align: center">State</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0XK0HA" class="Cell_Text">Software actively manages the power states of the many devices comprising Tegra.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0XK0HA" class="Cell_Text" style="text-align: center">Exiting</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0XK0HA" class="Cell_Text">Software can initiate a transition from Active to any other power state.</div></td></tr></table></div><div id="wwpID0E0WK0HA" class="Heading_5">Power State Mapping to Linux</div><div id="wwpID0E0VK0HA" class="Body_Text">Tegra BSP maps these hardware power states onto Linux Power States as follows.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 98.65pt"><div id="wwpID0EACD0UK0HA" class="Cell_Heading">OS Power State</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 112.5pt"><div id="wwpID0EABD0UK0HA" class="Cell_Heading">Chipset Power State</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 190.6pt"><div id="wwpID0EAAD0UK0HA" class="Cell_Heading">Comments</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACC0UK0HA" class="Cell_Text">Off</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0UK0HA" class="Cell_Text">Off</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0UK0HA" class="Cell_Text">-</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0UK0HA" class="Cell_Text">Suspend</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0UK0HA" class="Cell_Text">SC7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0UK0HA" class="Cell_Text">Software can choose whether to enter SC7 before the OS enters suspend.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0UK0HA" class="Cell_Text">Running/Idle (display on or off)</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0UK0HA" class="Cell_Text">Active</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0UK0HA" class="Cell_Text">Many of the devices within Tegra may be idle or disabled. They are under driver control. For example, VDD_CPU may be powered off and the companion CPU may be power-gated.</div></td></tr></table></div><div id="wwpID0E0TK0HA" class="List_Continue" style="margin-bottom: 0pt; margin-top: 0pt">&nbsp;</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 36pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0SK0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 342pt"><div id="wwpID0EAAA0SK0HA" class="Cell_Heading" style="text-align: left">NVIDIA Tegra X1 uses SCy instead of LPx for the name of the chipset power state.</div></td></tr></table></div><div id="wwpID0E0RK0HA" class="Heading_3">Clock and Voltage Management</div><div id="wwpID0E0QK0HA" class="Body_Text">Because frequency is proportional to voltage, dynamic voltage scaling is closely related to frequency scaling. For example, higher frequencies require higher voltages and vice versa.</div><div id="wwpID0E0PK0HA" class="Body_Text">Most clock register manipulation on Tegra X1 is handled by Linux Kernel. The Linux kernel driver on the CPU exposes simplified view of the physical clock tree to software on the main CPU via the Linux Common Clock Framework.</div><div id="wwpID0E0OK0HA" class="Heading_4">Regulator Framework</div><div id="wwpID0E0NK0HA" class="Body_Text">The Linux regulator framework provides an abstraction that allows regulator consumer drivers to dynamically adjust voltage or current regulators at runtime, without knowledge of the underlying hardware power tree. </div><div id="wwpID0E0MK0HA" class="Body_Text">The framework provides a mechanism that platform initialization code can use to declare a power tree topology and assign a driver that provides regulators for each node in the hardware power tree. Such a driver is called a <span class="Emphasis">regulator provider driver</span>.</div><div id="wwpID0E0LK0HA" class="Body_Text">Tegra BSP configures the platform power tree appropriately for Tegra devices. Additionally, drivers within Tegra BSP act as regulator consumers, where appropriate.</div><div id="wwpID0E0KK0HA" class="Body_Text">When porting Tegra BSP to a new platform, ensure that the platform power tree is configured correctly to match the underlying hardware. Additionally, ensure that all drivers for peripheral devices correctly make use of the regulator consumer APIs. BSP drivers registering as regulator consumers can cause I/O pads on the chip to be unavailable for other functions. Ensure that the Device Tree and board configuration file information for your new platform avoids conflicts between functions using the same I/O pads.</div><div id="wwpID0E0JK0HA" class="Heading_3">CPU Power Management</div><div id="wwpID0E0IK0HA" class="Body_Text">Tegra CPU power management strategy includes dynamic frequency scaling with dynamic voltage scaling, idle power states, and core management tuned for the Tegra X1 architecture.</div><div id="wwpID0E0HK0HA" class="Heading_4">Frequency Management with cpufreq</div><div id="wwpID0E0GK0HA" class="Body_Text">Tegra BSP implements CPU Dynamic Frequency Scaling (DFS) with the Linux <span class="Code_Char">cpufreq</span> subsystem. The <span class="Code_Char">cpufreq</span> subsystem comprises:</div><div id="wwpID0E0FK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Platform drivers to implement the clock adjustment mechanism. </div><div id="wwpID0E0EK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Governors to implement frequency scaling policies.</div><div id="wwpID0E0DK0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Core framework to connect governors to platform drivers.</div><div id="wwpID0E0CK0HA" class="Body_Text">The policy for frequency scaling depends on which <span class="Code_Char">cpufreq</span> governor is selected at runtime.</div><div id="wwpID0E0BK0HA" class="Body_Text">For details consult the information available at:</div><div id="wwpID0E0AK0HA" class="Code">&lt;top&gt;/kernel/kernel/kernel-4.4/Documentation/cpu-freq/</div><div id="wwpID0E06J0HA" class="Body_Text">For each Tegra hardware reference design, a <span class="Code_Char">cpufreq</span> governor is selected and tuned to achieve a balance between power and performance.</div><div id="wwpID0E05J0HA" class="Body_Text">When a governor requests a CPU frequency change, the Tegra-specific <span class="Code_Char">cpufreq</span> platform driver reconciles that request with limits imposed by thermal or electrical limits. The driver updates the clock speed of the CPU.</div><div id="wwpID0E04J0HA" class="Body_Text">Tegra X1 uses an DFLL to clock each CPU. Hardware (with the assistance of the Linux Kernel) ensures that the CPU voltage is appropriate for the DFLL to deliver requested CPU frequencies.</div><div id="wwpID0E03J0HA" class="Heading_4">Idle Management with cpuidle</div><div id="wwpID0E02J0HA" class="Body_Text">The Linux <span class="Code_Char">cpuidle</span> infrastructure supports the implementation of SoC-specific idle states for each CPU core. <span class="Code_Char">cpuidle</span> lacks direct support for idle states applicable to an entire CPU cluster and for idle states extending beyond a CPU cluster.</div><div id="wwpID0E01J0HA" class="Body_Text">For more information on the Linux <span class="Code_Char">cpuidle</span> infrastructure, see:</div><div id="wwpID0E0ZJ0HA" class="Code">&lt;top&gt;/kernel/kernel/kernel-4.4/Documentation/cpuidle/</div><div id="wwpID0E0YJ0HA" class="Body_Text">NVIDIA provides a Tegra-specific <span class="Code_Char">cpuidle</span> driver that plugs into the <span class="Code_Char">cpuidle</span> framework to enable CPU idle power management. </div><div id="wwpID0E0XJ0HA" class="Heading_5">Per-Core CPU Idle States</div><div id="wwpID0E0WJ0HA" class="Body_Text">The Tegra <span class="Code_Char">cpuidle</span> driver exposes two per-core CPU idle states as follows:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 76.15pt"><div id="wwpID0EABB0VJ0HA" class="Cell_Heading">Core State</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 325.6pt"><div id="wwpID0EAAB0VJ0HA" class="Cell_Heading">Description</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0VJ0HA" class="Cell_Text">C1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0VJ0HA" class="Cell_Text">The CPU core is clock-gated.</div></td></tr></table></div><div id="wwpID0E0UJ0HA" class="Heading_5">Transition CPU Cluster to Idle</div><div id="wwpID0E0TJ0HA" class="Body_Text">When the final core within a cluster transitions to idle, the Tegra-specific <span class="Code_Char">cpuidle</span> driver can transition the CPU cluster to a cluster idle state.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 76.15pt"><div id="wwpID0EABB0SJ0HA" class="Cell_Heading">Cluster State</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 325.6pt"><div id="wwpID0EAAB0SJ0HA" class="Cell_Heading">Description</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0SJ0HA" class="Cell_Text">CC1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0SJ0HA" class="Cell_Text">The CPU cluster’s clock is halted.</div></td></tr></table></div><div id="wwpID0E0RJ0HA" class="Body_Text">Additionally, as the final core within a cluster transitions to idle, the Tegra <span class="Code_Char">cpuidle</span> driver optionally disables any SoC resources where the CPU was the last active user.</div><div id="wwpID0E0QJ0HA" class="Body_Text">For example, the final CPU core transitioning to idle can optionally do one or more of the following:</div><div id="wwpID0E0PJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Transition DRAM to self-refresh</div><div id="wwpID0E0OJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Clock-gate MC/EMC</div><div id="wwpID0E0NJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Halt various PLLs</div><div id="wwpID0E0MJ0HA" class="Heading_5">CPU Idle</div><div id="wwpID0E0LJ0HA" class="Body_Text">The idle task is scheduled when there are no runnable tasks left in the runqueue for a particular core. This task, through the <span class="Code_Char">cpuidle</span> driver and <span class="Code_Char">cpuidle</span> governor, selects the core and puts it into a low-power state, where it stays until an interrupt wakes it up to process more work.</div><div id="wwpID0E0KJ0HA" class="Body_Text">When the last active core in a CPU cluster goes into an idle or offline state, the idle task puts the entire CPU cluster in a low power-state.</div><div id="wwpID0E0JJ0HA" class="Heading_5">CCPLEX Idle States</div><div id="wwpID0E0IJ0HA" class="Body_Text">Core states are denoted C<span class="Emphasis">x</span> states, cluster states are denoted as CC<span class="Emphasis">x</span> states, and CCPlex states are denoted as CCP<span class="Emphasis">x</span> states. The table below summarizes the different states available on the T210.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 56.2pt"><div id="wwpID0EABH0HJ0HA" class="Cell_Heading">State</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 345.55pt"><div id="wwpID0EAAH0HJ0HA" class="Cell_Heading">Meaning</div></td></tr><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAG0HJ0HA" class="Cell_Text" style="text-align: center"><span class="Strong">Core states</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABF0HJ0HA" class="Cell_Text">C1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAF0HJ0HA" class="Cell_Text">Clock-gating</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABE0HJ0HA" class="Cell_Text">C7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAE0HJ0HA" class="Cell_Text">Power-gating</div></td></tr><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAD0HJ0HA" class="Cell_Text" style="text-align: center"><span style="font-weight: bold">Cluster states</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0HJ0HA" class="Cell_Text">CC1</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0HJ0HA" class="Cell_Text">Auto clock-gating</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0HJ0HA" class="Cell_Text">CC6</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0HJ0HA" class="Cell_Text">Non-cpu power-gating</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0HJ0HA" class="Cell_Text">CC7</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0HJ0HA" class="Cell_Text">Rail-gating</div></td></tr></table></div><div id="wwpID0E0GJ0HA" class="Heading_5">Using KConfig and Device Tree Node to Enable cpuidle</div><div id="wwpID0E0FJ0HA" class="Body_Text">Use KConfig and the Device Tree node to enable <span class="Code_Char">cpuidle</span>.</div><div id="wwpID0E0EJ0HA" class="Heading_5">To enable cpuidle from the configuration file</div><div id="wwpID0E0DJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Set the following option:</div><div id="wwpID0E0CJ0HA" class="Code">CONFIG_CPU_IDLE=y</div><div id="wwpID0E0BJ0HA" class="Heading_5">To enable cpuidle from device tree</div><div id="wwpID0E0AJ0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Use the following compatibility string if not already enabled:</div><div id="wwpID0E06I0HA" class="Code">cpuidle {</div><div id="wwpID0E05I0HA" class="Code">    compatible = "nvidia,tegra210-cpuidle";</div><div id="wwpID0E04I0HA" class="Code">    status = "okay";</div><div id="wwpID0E03I0HA" class="Code">};</div><div id="wwpID0E02I0HA" class="Heading_5">To get and set a CPU’s core power state</div><div id="wwpID0E01I0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>On a CPU core, the pathnames of the nodes that represent core states are:</div><div id="wwpID0E0ZI0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>C7: <span class="Code_Char">/sys/devices/system/cpu/cpu&lt;x&gt;/cpuidle/state1/*</span></div><div id="wwpID0E0YI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>To get the status of a core power state on core &lt;x&gt;, read the appropriate node. To set the status, write an ASCII 0 or 1 to the node.<br /></div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 59.4pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0XI0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 319.5pt"><div id="wwpID0EAAA0XI0HA" class="Cell_Heading" style="text-align: left">ASCII 1 corresponds to “disabled,” and 0 to “enabled.”</div></td></tr></table></div><div id="wwpID0E0WI0HA" class="Heading_5">To get cluster states</div><div id="wwpID0E0VI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>To get the status of the cluster states that are enabled for A57 cluster, run following command:</div><div id="wwpID0E0UI0HA" class="Code">cat /sys/kernel/debug/cpuidle_t210/fast_cluster_states_enable</div><div id="wwpID0E0TI0HA" class="List_Continue">The value returned is:</div><div id="wwpID0E0SI0HA" class="Code">  name  idx     Enabled</div><div id="wwpID0E0RI0HA" class="Code">--------------------------</div><div id="wwpID0E0QI0HA" class="Code">  c7    1       1</div><div id="wwpID0E0PI0HA" class="Code">  cc6   2       1</div><div id="wwpID0E0OI0HA" class="Code">  cc7   3       1</div><div id="wwpID0E0NI0HA" class="Code">  sc2   4       1</div><div id="wwpID0E0MI0HA" class="Code">  sc3   5       1</div><div id="wwpID0E0LI0HA" class="Code">  sc4   6       1</div><div id="wwpID0E0KI0HA" class="Heading_5">To get the per-core state statistics</div><div id="wwpID0E0JI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>To get the number of times the kernel requested a specified core to enter a specified state, read the following node:</div><div id="wwpID0E0II0HA" class="Code">cat /sys/devices/system/cpu/cpu&lt;x&gt;/cpuidle/state&lt;y&gt;/usage</div><div id="wwpID0E0HI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>To get the total time in microseconds that a specified core has spent in a specified state since boot, read the following device:</div><div id="wwpID0E0GI0HA" class="Code">cat /sys/devices/system/cpu/cpu&lt;x&gt;/cpuidle/state&lt;y&gt;/time</div><div id="wwpID0E0FI0HA" class="List_Continue">For example, to get the number of times that A57 core&nbsp;2 has entered state CC6, run the following command:</div><div id="wwpID0E0EI0HA" class="Code">cat /sys/devices/system/cpu/cpu2/cpuidle/state2/usage</div><div id="wwpID0E0DI0HA" class="List_Continue">To get the total time in microseconds that A57 core&nbsp;2 has spent in state CC6, run the following command:</div><div id="wwpID0E0CI0HA" class="Code">cat /sys/devices/system/cpu/cpu2/cpuidle/state2/time</div><div id="wwpID0E0BI0HA" class="Heading_5">To disable cpuidle at boot time</div><div id="wwpID0E0AI0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Remove or disable the compatibility string <span style="font-family: &quot;Courier New&quot;">nvidia,tegra210-cpuidl</span><span class="Code_Char">e</span> from the appropriate device tree file.</div><div id="wwpID0E06H0HA" class="Heading_5">To disable a core/cluster power state at boot time</div><div id="wwpID0E05H0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Remove or disable the appropriate core/cluster state nodes from the following device trees:</div><div id="wwpID0E04H0HA" class="Code">tegra210-soc-base.dtsi</div><div id="wwpID0E03H0HA" class="Heading_3">Memory Power Management</div><div id="wwpID0E02H0HA" class="Body_Text">Tegra chipsets include power saving features whose operation is largely invisible to software at runtime. Most of those features are statically enabled at boot, according to settings in the boot configuration table (BCT<span class="Hyperlink">)</span>.</div><div id="wwpID0E01H0HA" class="Body_Text">Additionally, Tegra BSP implements EMC frequency scaling, which is dynamic frequency scaling for the memory controller (EMC/MC) and DRAM. This is a critical power saving feature that requires tuning and characterization for each new printed circuit board design. </div><div id="wwpID0E0ZH0HA" class="Body_Text">The calibration results include a BCT and an EMC DVFS table specific to the board design. The EMC DVFS table must be included in the platform kernel device tree file.</div><div id="wwpID0E0YH0HA" class="Heading_5">EMC Frequency Scaling Policy</div><div id="wwpID0E0XH0HA" class="Body_Text">The following factors affect EMC frequency scaling policy at runtime:</div><div id="wwpID0E0WH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The entries in the EMC DVFS table</div><div id="wwpID0E0VH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>The average memory bandwidth being used (as measured by hardware)</div><div id="wwpID0E0UH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Requests made by various device drivers (cpufreq, graphics drivers, USB, HDMI, and display)</div><div id="wwpID0E0TH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Any limits dynamically imposed by thermal throttling</div><div id="wwpID0E0SH0HA" class="Heading_3">Thermal Management</div><div id="wwpID0E0RH0HA" class="Body_Text">Thermal Management is essential for system stability and quality of user experience. The Tegra X1 thermal management provides the following capabilities:</div><div id="wwpID0E0QH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Sensing: for temperature reporting</div><div id="wwpID0E0PH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Cooldown: for removing heat via the fan and for controlling heat via the software clock throttling</div><div id="wwpID0E0OH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Slowdown: for hardware clock throttling</div><div id="wwpID0E0NH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Shutdown for orderly software shutdown and hardware thermal reset</div><div id="wwpID0E0MH0HA" class="Body_Text">Tegra X1 thermal management is performed by the software on the main CPU. </div><div id="wwpID0E0LH0HA" class="Body_Text">The following table identifies each thermal management action and the associated module for the Tegra chip.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.4pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 166.5pt"><div id="wwpID0EACI0KH0HA" class="Cell_Heading">Thermal Action</div></td><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 121.5pt"><div id="wwpID0EABI0KH0HA" class="Cell_Heading">Module Name</div></td><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 112.5pt"><div id="wwpID0EAAI0KH0HA" class="Cell_Heading">Tegra X1</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" rowspan="3"><div id="wwpID0EACH0KH0HA" class="CellText">Sensing</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABH0KH0HA" class="CellText">soctherm.c</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAH0KH0HA" class="CellText">Kernel software</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABG0KH0HA" class="CellText">aotag.c</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAG0KH0HA" class="CellText">Kernel software</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABF0KH0HA" class="CellText">nct1008.c</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAF0KH0HA" class="CellText">Kernel software</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" rowspan="2"><div id="wwpID0EACE0KH0HA" class="CellText">Cooldown for software throttling</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABE0KH0HA" class="CellText">tegra_throttle.c</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAE0KH0HA" class="CellText">Kernel software</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD0KH0HA" class="CellText">pwm_fan.c</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAD0KH0HA" class="CellText">Kernel software</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACC0KH0HA" class="CellText">Slowdown for hardware throttling</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0KH0HA" class="CellText">soctherm.c</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0KH0HA" class="CellText">Kernel software</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0KH0HA" class="CellText">Software shutdown</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0KH0HA" class="CellText">thermal_core.c</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0KH0HA" class="CellText">Kernel software</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0KH0HA" class="CellText">Hardware shutdown</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0KH0HA" class="CellText">soctherm.c and aotag.c</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0KH0HA" class="CellText">Kernel software</div></td></tr></table></div><div id="wwpID0E0JH0HA" class="Heading_4">Linux Thermal Framework</div><div id="wwpID0E0IH0HA" class="Body_Text">The Linux thermal framework provides generic user-space and kernel-space interfaces for working with devices that measure temperature and devices used to control temperatures. The central component of the framework is the Thermal Zone.</div><div id="wwpID0E0HH0HA" class="Body_Text">More information about the Linux thermal framework is available at:</div><div id="wwpID0E0GH0HA" class="Code">&lt;top&gt;/kernel/Documentation/thermal/sysfs-api.txt</div><div id="wwpID0E0FH0HA" class="Heading_4">Thermal Zone</div><div id="wwpID0E0EH0HA" class="Body_Text">A thermal zone is a virtual object that represents an area on the die whose temperature is monitored and controlled. Essentially, a working thermal zone is more than a sensor, but acts as an object with the following components:</div><div id="wwpID0E0DH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Temperature sensor</div><div id="wwpID0E0CH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Cooling device</div><div id="wwpID0E0BH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Trip points</div><div id="wwpID0E0AH0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Governor</div><div id="wwpID0E06G0HA" class="Body_Text">Tegra BSP includes drivers that provide interfaces defined by these components.</div><div id="wwpID0E05G0HA" class="Body_Text">This topic introduces these components and demonstrates how they form a thermal zone on a Tegra-based device.</div><div id="wwpID0E04G0HA" class="Heading_4">Configuring a Thermal Zone via the Device Tree</div><div id="wwpID0E03G0HA" class="Body_Text">The thermal zone provides knobs to tune the thermal response of the zone. Tegra BSP provides several thermal zones tuned to provide optimum thermal performance. These provided thermal zones can be modified by editing the entries in the device tree. Users can define sensors to use temperature limits and cooling actions on those limits. When a device becomes too hot, in most cases, it can be resolved by tuning the thermal zone.</div><div id="wwpID0E02G0HA" class="Body_Text">The following code snippet provides an example of a thermal zone for the TX1 platform. This thermal zone monitors the temperature of the <span class="Code_Char">THERMAL_ZONE_CPU</span> sensor. The clock throttling is performed using the CPU-balanced cooling device when the passive trip point, <span style="font-family: &quot;Courier New&quot;">cpu_throttle</span>, is crossed at 97 degrees Celsius.</div><div id="wwpID0E01G0HA" class="Code">CPU-therm {</div><div id="wwpID0E0ZG0HA" class="Code">	thermal-zone-params {</div><div id="wwpID0E0YG0HA" class="Code">		governor-name = "step_wise";</div><div id="wwpID0E0XG0HA" class="Code">	};</div><div id="wwpID0E0WG0HA" class="Code">	trips {</div><div id="wwpID0E0VG0HA" class="Code">		cpu_critical {</div><div id="wwpID0E0UG0HA" class="Code">			temperature = &lt;102000&gt;;</div><div id="wwpID0E0TG0HA" class="Code">			hysteresis = &lt;0&gt;;</div><div id="wwpID0E0SG0HA" class="Code">			type = "critical";</div><div id="wwpID0E0RG0HA" class="Code">			writable;</div><div id="wwpID0E0QG0HA" class="Code">		};</div><div id="wwpID0E0PG0HA" class="Code">		cpu_heavy {</div><div id="wwpID0E0OG0HA" class="Code">			temperature = &lt;100500&gt;;</div><div id="wwpID0E0NG0HA" class="Code">			hysteresis = &lt;0&gt;;</div><div id="wwpID0E0MG0HA" class="Code">			type = "hot";</div><div id="wwpID0E0LG0HA" class="Code">			writable;</div><div id="wwpID0E0KG0HA" class="Code">		};</div><div id="wwpID0E0JG0HA" class="Code">		cpu_throttle {</div><div id="wwpID0E0IG0HA" class="Code">			temperature = &lt;97000&gt;;</div><div id="wwpID0E0HG0HA" class="Code">			hysteresis = &lt;0&gt;;</div><div id="wwpID0E0GG0HA" class="Code">			type = "passive";</div><div id="wwpID0E0FG0HA" class="Code">			writable;</div><div id="wwpID0E0EG0HA" class="Code">		};</div><div id="wwpID0E0DG0HA" class="Code">	};</div><div id="wwpID0E0CG0HA" class="Code">	cooling-maps {</div><div id="wwpID0E0BG0HA" class="Code">			map0 {</div><div id="wwpID0E0AG0HA" class="Code">				trip = &lt;&amp;{/thermal-zones/CPU-therm/trips/cpu_critical}&gt;;</div><div id="wwpID0E06F0HA" class="Code">				cdev-type = "tegra-shutdown";</div><div id="wwpID0E05F0HA" class="Code">				cooling-device = &lt;&amp;{/soctherm@0x700E2000/throttle@critical}</div><div id="wwpID0E04F0HA" class="Code">						THERMAL_NO_LIMIT THERMAL_NO_LIMIT&gt;;</div><div id="wwpID0E03F0HA" class="Code">			};</div><div id="wwpID0E02F0HA" class="Code">			map1 {</div><div id="wwpID0E01F0HA" class="Code">				trip = &lt;&amp;{/thermal-zones/CPU-therm/trips/cpu_heavy}&gt;;</div><div id="wwpID0E0ZF0HA" class="Code">				cdev-type = "tegra-heavy";</div><div id="wwpID0E0YF0HA" class="Code">				cooling-device = &lt;&amp;throttle_heavy 1 1&gt;;</div><div id="wwpID0E0XF0HA" class="Code">			};</div><div id="wwpID0E0WF0HA" class="Code">			map2 {</div><div id="wwpID0E0VF0HA" class="Code">				trip = &lt;&amp;{/thermal-zones/CPU-therm/trips/cpu_throttle}&gt;;</div><div id="wwpID0E0UF0HA" class="Code">				cdev-type = "cpu-balanced";</div><div id="wwpID0E0TF0HA" class="Code">				cooling-device = &lt;&amp;{/bthrot_cdev/cpu_balanced}</div><div id="wwpID0E0SF0HA" class="Code">						THERMAL_NO_LIMIT THERMAL_NO_LIMIT&gt;;</div><div id="wwpID0E0RF0HA" class="Code">			};</div><div id="wwpID0E0QF0HA" class="Code">	};</div><div id="wwpID0E0PF0HA" class="Code">};</div><div id="wwpID0E0OF0HA" class="Body_Text">More information about thermal knobs is available at:</div><div id="wwpID0E0NF0HA" class="Code">&lt;top&gt;/kernel/Documentation/devicetree/bindings/thermal.txt</div><div id="wwpID0E0MF0HA" class="Heading_5">Temperature Sensors</div><div id="wwpID0E0LF0HA" class="Body_Text">A temperature sensor in a thermal zone is responsible for reporting the temperature in milli-Celsius. Tegra has several types of temperature sensors spread across on the die and board. </div><div id="wwpID0E0KF0HA" class="Body_Text">For more information see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/power_management_tx1.html#wwpID0E05E0HA" title="Power Management for TX1 Devices">Thermal Sensing in Linux</a></span>.</div><div id="wwpID0E0JF0HA" class="Heading_5">Trip Points</div><div id="wwpID0E0IF0HA" class="Body_Text">Trip points are used to communicate with the thermal zone. The trip point identifies the temperature at which to perform a thermal action. Trip points are classified as active or passive, based on the type of cooling they trigger. A trip point is classified as critical if it triggers a thermal shutdown. A cooling map specifies how a cooling device is associated with certain trip points. Tegra BSP supports fan and clock throttling.</div><div id="wwpID0E0HF0HA" class="Heading_5">Cooling Devices</div><div id="wwpID0E0GF0HA" class="Body_Text">A cooling device does not actually remove any actual heat; only fan cooling device can remove heat. The Linux thermal framework makes this distinction by classifying fan cooling as an “active” cooling device. Clock throttling, which is the other type of cooling device, is classified as a “passive” cooling device.</div><div id="wwpID0E0FF0HA" class="Body_Text">For more information see Fan Management and Clock Throttling.</div><div id="wwpID0E0EF0HA" class="Heading_5">Governors</div><div id="wwpID0E0DF0HA" class="Body_Text">Thermal management requires some form of feedback control system that keeps the device within a safe operating temperature. The governor implements this feedback control loop. While the Linux thermal framework provides many different governors, Tegra BSP provides a simple Proportional Integral Derivative (PID) controller for all passive throttling needs.</div><div id="wwpID0E0CF0HA" class="Heading_5">Tegra BSP Specific Thermal Zones</div><div id="wwpID0E0BF0HA" class="Body_Text">Platform specific thermal zones are provided in the Tegra BSP. They are tuned to provide the best performance within the thermal constraints of the device. Each thermal zone uses a temperature sensor that is controlled by Linux kernel as described in the following table.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.4pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 85.5pt"><div id="wwpID0EADH0AF0HA" class="Cell_Heading">Thermal Zone</div></td><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 112.5pt"><div id="wwpID0EACH0AF0HA" class="Cell_Heading">Thermal Sensor <br />ABI Name</div></td><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 99pt"><div id="wwpID0EABH0AF0HA" class="Cell_Heading">Cooling Action</div></td><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 104.75pt"><div id="wwpID0EAAH0AF0HA" class="Cell_Heading">Balanced Throttle Temperature in Degrees Celsius</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADG0AF0HA" class="CellText">CPU-therm</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACG0AF0HA" class="CellText">THERMAL_ZONE_CPU</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABG0AF0HA" class="CellText">cpu_balanced</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAG0AF0HA" class="CellText">97</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADF0AF0HA" class="CellText">GPU-therm</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACF0AF0HA" class="CellText">THERMAL_ZONE_GPU</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABF0AF0HA" class="CellText">gpu-balanced</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAF0AF0HA" class="CellText">97.5</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADE0AF0HA" class="CellText">PLL-therm</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACE0AF0HA" class="CellText">THERMAL_ZONE_PLLX</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABE0AF0HA" class="CellText">-</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAE0AF0HA" class="CellText">-</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADD0AF0HA" class="CellText">AO-therm</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACD0AF0HA" class="CellText">THERMAL_ZONE_AO</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD0AF0HA" class="CellText">-</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAD0AF0HA" class="CellText">-</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADC0AF0HA" class="CellText">Tboard_tegra</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACC0AF0HA" class="CellText">tmp451</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0AF0HA" class="CellText">Tegra-dram</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0AF0HA" class="CellText">80</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADB0AF0HA" class="CellText">Tdiode_tegra</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0AF0HA" class="CellText">tmp451</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0AF0HA" class="CellText">shutdown_warning </div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0AF0HA" class="CellText">104</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EADA0AF0HA" class="CellText">thermal-fan-est</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0AF0HA" class="CellText">&nbsp;</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0AF0HA" class="CellText">pwm_fan</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0AF0HA" class="CellText">51.0</div></td></tr></table></div><div id="wwpID0E06E0HA" class="Body_Text">All gains achieved by tuning are limited by the Thermal Design Power (TDP) of the system. Tuning cannot remedy a faulty TDP, and removing all the thermal zones does not guarantee maximum performance because it can cause irreversible damage to the device and/or resets. </div><div id="wwpID0E05E0HA" class="Heading_3">Thermal Sensing in Linux</div><div id="wwpID0E04E0HA" class="Body_Text">The Tegra platform includes several drivers for temperature sensing. </div><div id="wwpID0E03E0HA" class="Heading_4">NCT Sensors</div><div id="wwpID0E02E0HA" class="Body_Text">Tegra BSP includes a driver for devices such as: </div><div id="wwpID0E01E0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>NCT1008</div><div id="wwpID0E0ZE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>NCT72</div><div id="wwpID0E0YE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>TMP451</div><div id="wwpID0E0XE0HA" class="Body_Text">These devices can sense their own temperature as well as sensing the temperature of a remote diode. Tegra platforms have these sensors setup as follows:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.4pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 126pt"><div id="wwpID0EACC0WE0HA" class="Cell_Heading">Thermal Zone</div></td><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 121.5pt"><div id="wwpID0EABC0WE0HA" class="Cell_Heading">Thermal Sensor</div></td><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 153pt"><div id="wwpID0EAAC0WE0HA" class="Cell_Heading">Sensed Location</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACB0WE0HA" class="CellText">Tdiode_tegra</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0WE0HA" class="CellText">Remote sensor</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0WE0HA" class="CellText">Temperature on die near GPU</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EACA0WE0HA" class="CellText">Tboard_tegra</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0WE0HA" class="CellText">Local sensor</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0WE0HA" class="CellText">Temperature of the board</div></td></tr></table></div><div id="wwpID0E0VE0HA" class="Body_Text">Tegra BSP configures this sensor to operate in an extended mode to increase the temperature range to 64 Degrees Celsius to 191 degrees Celsius.</div><div id="wwpID0E0UE0HA" class="Heading_5">Operation During SC7</div><div id="wwpID0E0TE0HA" class="Body_Text">On many platforms, the voltage rail that powers the sensor is gated when Tegra enters SC7 state. Consequently, the sensor is stopped when Tegra enters SC7 and turned back on when Tegra exits SC7 state.</div><div id="wwpID0E0SE0HA" class="Heading_5">Thermal Capabilities</div><div id="wwpID0E0RE0HA" class="Body_Text">The NCT sensors generate thermal events for:</div><div id="wwpID0E0QE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Thermal zone trip points</div><div id="wwpID0E0PE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Hardware thermal shutdown</div><div id="wwpID0E0OE0HA" class="Heading_5">Correction Offset</div><div id="wwpID0E0NE0HA" class="Body_Text">The NCT sensors allow software to program a static offset temperature for the remote sensor. This accounts for any inaccuracy that may be present in the sensor hardware. Tegra BSP reads the offset from the Device Tree and programs into the offset register on boot. The offset is calculated and validated via oil bath experiments.</div><div id="wwpID0E0ME0HA" class="Heading_3">Thermal Cooling</div><div id="wwpID0E0LE0HA" class="Body_Text">Tegra BSP provides thermal management using fan control and throttling of various clocks in the system. </div><div id="wwpID0E0KE0HA" class="Heading_4">Fan Management</div><div id="wwpID0E0JE0HA" class="Body_Text">Fan management in Tegra BSP is provided using active cooling in the form of fan control. The cooling device <span class="Code_Char">pwm-fan</span> provides:</div><div id="wwpID0E0IE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Fan speed control by programming the PWM controller</div><div id="wwpID0E0HE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Ramp-up and ramp-down control to change the speed of the fan smoothly</div><div id="wwpID0E0GE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Fan control during various power states</div><div id="wwpID0E0FE0HA" class="Body_Text">The PWM-RPM mapping, and the various ramp rates, are stored as part of the device tree binary. The <span class="Code_Char">pwm-fan</span> cooling device maps these PWM values to a cooling state. The fan cooling device can be attached to monitor the temperature of any of the Tegra BSP sensors. As the temperature increases, the governor progressively picks a deeper cooling state for the fan. This results in a higher RPM for the fan which then results in more cooling.</div><div id="wwpID0E0EE0HA" class="Body_Text">Tegra thermal management uses the fan as the first line of defense to delay clock throttling until a much higher temperature.</div><div id="wwpID0E0DE0HA" class="Heading_4">Clock Throttling</div><div id="wwpID0E0CE0HA" class="Body_Text">Tegra BSP provides thermal cooling by throttling various clocks in the system. When a rising temperature crosses a trip point, clock throttling relies on the DVFS capabilities of the clocks to reduce their operating frequency, and thereby the voltage of the rail that powers the clock. This lowered frequency and voltage reduces the power consumption which then helps in controlling the temperature.</div><div id="wwpID0E0BE0HA" class="Body_Text">Because cooling is achieved by reducing the clock frequency, there is a direct impact on the performance and user experience. If a device feels warm and seems sluggish, it may be due to thermal throttling on the clocks. This can be remedied by tuning the thermal zone provided in the following Tegra BSP balanced cooling devices:</div><div id="wwpID0E0AE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>gpu_balanced</div><div id="wwpID0E06D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>cpu_balanced</div><div id="wwpID0E05D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>emergency_balanced</div><div id="wwpID0E04D0HA" class="Body_Text">Each of these balanced cooling devices provides several cooling states that translate to a maximum allowable operating frequency for the CPU, GPU, and EMC clocks. These frequencies are optimized to provide the best possible performance at a given temperature. The frequency tables for these clocks are part of the device tree binary.</div><div id="wwpID0E03D0HA" class="Body_Text">The governor uses the current temperature of the sensor as an input to the feedback control loop. Similarly, the governor uses the output is as the new cooling state for the operation of the cooling device. As the device heats up, the governor progressively picks a higher cooling which then results in a higher frequency cap for all the clocks, and potentially higher cooling. Tegra BSP performs this thermal throttling of the clocks to maintain the junction temperature of the die within the recommended safe limits.</div><div id="wwpID0E02D0HA" class="Heading_3">Software Thermal Shutdown</div><div id="wwpID0E01D0HA" class="Body_Text">The thermal zones also define a special type of trip point called a critical trip point that triggers a software shutdown. This special trip point allows the operating system to save its state and perform an orderly shutdown before a hardware reset due to high temperature rates. Tegra BSP defines one critical trip point per thermal zone. Users can set the lower limit for the orderly shutdown. A thermal shutdown occurs after all the other cooling strategies have failed. It is considered a rare event. The shutdown limits are as follows.</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.4pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 193.5pt"><div id="wwpID0EABC0ZD0HA" class="Cell_Heading">Thermal Zone</div></td><td style="background-color: #DDEEBF; border-bottom-color: #7F7F7F; border-bottom-style: solid; border-bottom-width: 0.5pt; border-left-color: #7F7F7F; border-left-style: solid; border-left-width: 0.5pt; border-right-color: #7F7F7F; border-right-style: solid; border-right-width: 0.5pt; border-top-color: #7F7F7F; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 0pt; padding-left: 0pt; padding-right: 0pt; padding-top: 0pt; vertical-align: bottom; width: 207pt"><div id="wwpID0EAAC0ZD0HA" class="Cell_Heading">Shutdown Limit in Degrees Celsius</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0ZD0HA" class="CellText">CPU-therm</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0ZD0HA" class="CellText">102.0</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0ZD0HA" class="CellText">GPU-therm</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0ZD0HA" class="CellText">102.5</div></td></tr></table></div><div id="wwpID0E0YD0HA" class="Heading_4">Software-based Power Consumption Modeling</div><div id="wwpID0E0WD0HA" class="Body_Text">The Jetson TX1 module has 3-channel INA3221 power monitor at I2C address 0x40. </div><div id="wwpID0E0VD0HA" class="Body_Text">The information from the INA3221 power monitor can be read using sysfs nodes. The naming convention for sysfs nodes is as follows: </div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 23.4pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 194.65pt"><div id="wwpID0EABF0UD0HA" class="Cell_Heading">Command</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 228.7pt"><div id="wwpID0EAAF0UD0HA" class="Cell_Heading">Description</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABE0UD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">rail_name_&lt;N&gt;</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAE0UD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Exports the rail name.</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABD0UD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">in_current&lt;N&gt;_input</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAD0UD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Exports rail current in mA.</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0UD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">in_voltage&lt;N&gt;_input</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0UD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Exports rail voltage in mV.</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0UD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">In_power&lt;N&gt;_input</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0UD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Exports rail power in mW.</span></div></td></tr><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top" colspan="2"><div id="wwpID0EAAA0UD0HA" class="Cell_Text">Where &lt;N&gt; is a channel number 0-2.</div></td></tr></table></div><div id="wwpID0E0TD0HA" class="Normal" style="margin-bottom: 2pt; margin-left: 18pt; margin-top: 2pt">&nbsp;</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 23.4pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 48.6pt"><div id="wwpID0EABA0SD0HA" class="Normal" style="margin-top: 8pt; text-align: center"><span style="color: #FFFFFF; font-family: &quot;Trebuchet MS&quot;; font-size: 12pt; font-weight: bold">Note:</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 360.9pt"><div id="wwpID0EAAA0SD0HA" class="Normal" style="margin-bottom: 6pt; margin-top: 6pt"><span style="font-family: &quot;Trebuchet MS&quot;; font-size: 10pt; font-weight: bold">The INA driver may also present other nodes. Do not modify any INA sysfs node value. Modifying these values can result in damage to your device.</span></div></td></tr></table></div><div id="wwpID0E0RD0HA" class="Body_Text">The sysfs nodes to read for rail names, voltage, current, and power are at:</div><div id="wwpID0E0QD0HA" class="Code">/sys/bus/i2c/drivers/ina3221x/1-0040/iio:device0</div><div id="wwpID0E0PD0HA" class="Body_Text">The rail names for I2C address 0x40 are:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 23.4pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 194.65pt"><div id="wwpID0EABD0OD0HA" class="Cell_Heading">Rail Name</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 228.7pt"><div id="wwpID0EAAD0OD0HA" class="Cell_Heading">Description</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0OD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Channel 0: VDD_IN</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0OD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Main module power input.</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0OD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Channel 1: VDD_GPU</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0OD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">GPU power rail.</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0OD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Channel 2: VDD_CPU</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0OD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">CPU power rail.</span></div></td></tr></table></div><div id="wwpID0E0ND0HA" class="Body_Text">The Jetson TX1 Developer Kit carrier board has 3-channel INA3221 power monitors at I2C addresses 0x42 and 0x43. The sysfs nodes to read rail name, voltage, current and power are at:</div><div id="wwpID0E0MD0HA" class="Code">/sys/bus/i2c/drivers/ina3221x/1-0042/iio:device2</div><div id="wwpID0E0LD0HA" class="Code">/sys/bus/i2c/drivers/ina3221x/1-0043/iio:device3</div><div id="wwpID0E0KD0HA" class="Body_Text">The rail names for I2C address 0x42 are:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 23.4pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 194.65pt"><div id="wwpID0EABD0JD0HA" class="Cell_Heading">Rail Name</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 228.7pt"><div id="wwpID0EAAD0JD0HA" class="Cell_Heading">Description</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0JD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Channel 0: VDD_MUX</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0JD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Carrier board power input.</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0JD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Channel 1: VDD_5V_IO_SYS</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0JD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Carrier board 5 V supply.</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0JD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Channel 2: VDD_3V3_SYS</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0JD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Carrier board 3.3 V supply.</span></div></td></tr></table></div><div id="wwpID0E0ID0HA" class="Body_Text">The rail names for I2C address 0x43 are:</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 23.4pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 194.65pt"><div id="wwpID0EABD0HD0HA" class="Cell_Heading">Rail Name</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 228.7pt"><div id="wwpID0EAAD0HD0HA" class="Cell_Heading">Description</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABC0HD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Channel 0: VDD_3V3_IO_SLP</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAC0HD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Carrier board 3.3 V sleep supply.</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABB0HD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Channel 1: VDD_1V8_IO (Name on schematic is VDD_1V8)</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAB0HD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Carrier board 1.8 V supply.</span></div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABA0HD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">Channel 2: VDD_3V3_SYS_M2</span></div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAAA0HD0HA" class="Cell_Text"><span style="background-color: #FFFFFF">3.3 V supply for M.2 Key E connector.</span></div></td></tr></table></div><div id="wwpID0E0GD0HA" class="Heading_5">Examples</div><div id="wwpID0E0FD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>To read INA3221 at 0x40, the channel-0 rail name (i.e., VDD_IN), execute the command:</div><div id="wwpID0E0ED0HA" class="Code">cat /sys/bus/i2c/drivers/ina3221x/1-0040/iio:device1/rail_name_0</div><div id="wwpID0E0DD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>To read VDD_IN voltage, current, and power, execute the commands:</div><div id="wwpID0E0CD0HA" class="Code">cat /sys/bus/i2c/drivers/ina3221x/1-0040/iio:device1/in_current0_input</div><div id="wwpID0E0BD0HA" class="Code">cat /sys/bus/i2c/drivers/ina3221x/1-0040/iio:device1/in_voltage0_input</div><div id="wwpID0E0AD0HA" class="Code">cat /sys/bus/i2c/drivers/ina3221x/1-0040/iio:device1/in_power0_input</div><div id="wwpID0E06C0HA" class="Code">&nbsp;</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 23.4pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 48.6pt"><div id="wwpID0EABA05C0HA" class="Normal" style="margin-top: 8pt; text-align: center"><span style="color: #FFFFFF; font-family: &quot;Trebuchet MS&quot;; font-size: 12pt; font-weight: bold">Note:</span></div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 360.9pt"><div id="wwpID0EAAA05C0HA" class="Normal" style="margin-bottom: 6pt; margin-top: 6pt"><span style="font-family: &quot;Trebuchet MS&quot;; font-size: 10pt; font-weight: bold">In terms of accuracy, assume a 5% guard band for INA measurements greater than 200 mW. Below that, accuracy can deviate by as much as 15%.</span></div></td></tr></table></div><div id="wwpID0E04C0HA" class="Heading_3">Related Tools and Techniques</div><div id="wwpID0E03C0HA" class="Body_Text">The tools and techniques to manage power are as follows.</div><div id="wwpID0E02C0HA" class="Heading_4">Disabling 3D Frequency Scaling</div><div id="wwpID0E01C0HA" class="Body_Text">3D frequency scaling is enabled by default.</div><div id="wwpID0E0ZC0HA" class="Heading_5">To disable 3D frequency scaling</div><div id="wwpID0E0YC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following command:</div><div id="wwpID0E0XC0HA" class="Code">echo 0 &gt; /sys/devices/57000000.gpu/enable_3d_scaling</div><div id="wwpID0E0WC0HA" class="Heading_5">To enable 3D frequency scaling</div><div id="wwpID0E0VC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following command:</div><div id="wwpID0E0UC0HA" class="Code">echo 1 &gt; /sys/devices/57000000.gpu/enable_3d_scaling</div><div id="wwpID0E0TC0HA" class="Heading_4">Setting Frequencies</div><div id="wwpID0E0SC0HA" class="Heading_5">To get system clock information</div><div id="wwpID0E0RC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following command:</div><div id="wwpID0E0QC0HA" class="Code">cat /sys/kernel/debug/clk/clk_summary</div><div id="wwpID0E0PC0HA" class="Heading_5">To print the CPU lower bound, upper bound, and current frequency</div><div id="wwpID0E0OC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following commands:</div><div id="wwpID0E0NC0HA" class="Code">cat /sys/devices/system/cpu/cpuX/cpufreq/cpuinfo_min_freq</div><div id="wwpID0E0MC0HA" class="Code">cat /sys/devices/system/cpu/cpuX/cpufreq/cpuinfo_max_freq</div><div id="wwpID0E0LC0HA" class="Code">cat /sys/devices/system/cpu/cpuX/cpufreq/cpuinfo_cur_freq</div><div id="wwpID0E0KC0HA" class="Heading_5">To change the CPU upper bound</div><div id="wwpID0E0JC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following command:</div><div id="wwpID0E0IC0HA" class="Code">echo &lt;cpu_freq&gt; &gt; /sys/devices/system/cpu/cpuX/cpufreq/scaling_max_freq</div><div id="wwpID0E0HC0HA" class="Heading_5">To change the CPU lower bound</div><div id="wwpID0E0GC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following command:</div><div id="wwpID0E0FC0HA" class="Code">echo &lt;cpu_freq&gt; &gt; /sys/devices/system/cpu/cpuX/cpufreq/scaling_min_freq</div><div id="wwpID0E0EC0HA" class="Heading_5">To set the static CPU frequency</div><div id="wwpID0E0DC0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following command:</div><div id="wwpID0E0CC0HA" class="Code">echo &lt;cpu_freq&gt; &gt; /sys/devices/system/cpu/cpuX/cpufreq/scaling_min_freq</div><div id="wwpID0E0BC0HA" class="Code">echo &lt;cpu_freq&gt; &gt; /sys/devices/system/cpu/cpuX/cpufreq/scaling_max_freq</div><div id="wwpID0E0AC0HA" class="List_Continue">Where:</div><div id="wwpID0E06B0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;cpu_freq&gt;</span> is the frequency value available at:</div><div id="wwpID0E05B0HA" class="Code_Indent">/sys/devices/system/cpu/cpuX/cpufreq/scaling_available_frequencies</div><div id="wwpID0E04B0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;X&gt;</span> is the CPU core number.</div><div id="wwpID0E03B0HA" class="Heading_5">To print the GPU lower bound, upper bound, and current frequency</div><div id="wwpID0E02B0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following commands:</div><div id="wwpID0E01B0HA" class="Code">cat /sys/devices/57000000.gpu/devfreq/57000000.gpu/min_freq</div><div id="wwpID0E0ZB0HA" class="Code">cat /sys/devices/57000000.gpu/devfreq/57000000.gpu/max_freq</div><div id="wwpID0E0YB0HA" class="Code">cat /sys/devices/57000000.gpu/devfreq/57000000.gpu/cur_freq</div><div id="wwpID0E0XB0HA" class="Heading_5">To change the GPU upper bound</div><div id="wwpID0E0WB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following command:</div><div id="wwpID0E0VB0HA" class="Code">echo &lt;gpu_freq&gt; &gt; /sys/devices/57000000.gpu/devfreq/57000000.gpu/max_freq</div><div id="wwpID0E0UB0HA" class="Heading_5">To change the GPU lower bound</div><div id="wwpID0E0TB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following command:</div><div id="wwpID0E0SB0HA" class="Code">echo &lt;gpu_freq&gt; &gt; /sys/devices/57000000.gpu/devfreq/57000000.gpu/min_freq</div><div id="wwpID0E0RB0HA" class="Code">&nbsp;</div><div id="wwpID0E0QB0HA" class="Heading_5">To set the static GPU frequency</div><div id="wwpID0E0PB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following command:</div><div id="wwpID0E0OB0HA" class="Code">echo &lt;gpu_freq&gt; &gt; /sys/devices/57000000.gpu/devfreq/57000000.gpu/min_freq</div><div id="wwpID0E0NB0HA" class="Code">&nbsp;</div><div id="wwpID0E0MB0HA" class="Code">echo &lt;gpu_freq&gt; &gt; /sys/devices/57000000.gpu/devfreq/57000000.gpu/max_freq</div><div id="wwpID0E0LB0HA" class="Code">&nbsp;</div><div id="wwpID0E0KB0HA" class="Code">Where <span class="Code_Char">&lt;gpu_freq&gt;</span> is the value available in:</div><div id="wwpID0E0JB0HA" class="Code">/sys/devices/57000000.gpu/devfreq/57000000.gpu/available_frequencies</div><div id="wwpID0E0IB0HA" class="Heading_5">To print the EMC lower bound, upper bound, and current frequency</div><div id="wwpID0E0HB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following commands:</div><div id="wwpID0E0GB0HA" class="Code">cat /sys/kernel/debug/tegra_bwmgr/emc_min_rate</div><div id="wwpID0E0FB0HA" class="Code">cat /sys/kernel/debug/tegra_bwmgr/emc_max_rate</div><div id="wwpID0E0EB0HA" class="Code">cat /sys/kernel/debug/tegra_bwmgr/emc_rate</div><div id="wwpID0E0DB0HA" class="Heading_5">To set static EMC frequency</div><div id="wwpID0E0CB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following commands:</div><div id="wwpID0E0BB0HA" class="Code">echo &lt;emc_freq&gt;  &gt; /sys/kernel/debug/clk/override.emc/clk_update_rate</div><div id="wwpID0E0AB0HA" class="Code">echo 1 &gt; /sys/kernel/debug/clk/override.emc/clk_state</div><div id="wwpID0E6HA" class="List_Continue">Where <span class="Code_Char">&lt;emc_freq&gt;</span> is frequency value between emc_min_rate and emc_max_rate.</div><div id="wwpID0E5HA" class="Heading_4">Maximizing Tegra Performance</div><div id="wwpID0E4HA" class="Body_Text">Tegra BSP provides the <span class="Code_Char">jetson_clocks.sh</span> script to maximize Jetson-TX1 performance by setting static maximum frequency to the CPU, GPU, and EMC clocks. Use the script to show current clock settings, store current clock settings into a file, and restore clock settings from a file.</div><div id="wwpID0E3HA" class="Body_Text">The script is available at:</div><div id="wwpID0E2HA" class="Code">$HOME/jetson_clocks.sh</div><div id="wwpID0E1HA" class="Body_Text">The command usage is as follows:</div><div id="wwpID0EZHA" class="Code">jetson-clocks.sh [options]</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 41.75pt" cellspacing="0" summary=""><tr><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 148.7pt"><div id="wwpID0EABDYHA" class="Cell_Heading">Options</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 274.65pt"><div id="wwpID0EAADYHA" class="Cell_Heading">Description</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABCYHA" class="Cell_Text">--show</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EAACYHA" class="Cell_Text">Displays the current settings.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABBYHA" class="Cell_Text">--store [file]</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EBABYHA" class="Cell_Text">Stores the current settings to a file. </div><div id="wwpID0EAABYHA" class="Cell_Text">The default file is l4t_dfs.conf.</div></td></tr><tr><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EABAYHA" class="Cell_Text">--restore [file]</div></td><td style="background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top"><div id="wwpID0EBAAYHA" class="Cell_Text">Restores the saved settings from the file.</div><div id="wwpID0EAAAYHA" class="Cell_Text">The default file is l4t_dfs.conf.</div></td></tr></table></div><div id="wwpID0EXHA" class="Heading_5">To show the current settings</div><div id="wwpID0EWHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Execute the command:</div><div id="wwpID0EVHA" class="Code">sudo ${HOME}/jetson_clocks.sh --show</div><div id="wwpID0EUHA" class="Heading_5">To store the current settings </div><div id="wwpID0ETHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Execute the command:</div><div id="wwpID0ESHA" class="Code">sudo ${HOME}/jetson_clocks.sh --store</div><div id="wwpID0ERHA" class="Heading_5">To maximize Jetson TX1 performance </div><div id="wwpID0EQHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Execute the command:</div><div id="wwpID0EPHA" class="Code">sudo ${HOME}/jetson_clocks.sh</div><div id="wwpID0EOHA" class="Heading_5">To restore the previous settings</div><div id="wwpID0ENHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Execute the command:</div><div id="wwpID0EMHA" class="Code">sudo ${HOME}/jetson_clocks.sh --restore</div><div id="wwpID0ELHA" class="Heading_4">Using CPU Hot Plug</div><div id="wwpID0EKHA" class="Body_Text">You can manage the CPU hotplug as follows.</div><div id="wwpID0EJHA" class="Heading_5">To manually turn on/off slave CPUs</div><div id="wwpID0EIHA" class="List_Number" style="margin-left: 49.5pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Run the following command to turn on the slave CPU:</div><div id="wwpID0EHHA" class="Code">echo 1 &gt; /sys/devices/system/cpu/cpuX/online</div><div id="wwpID0EGHA" class="List_Number" style="margin-left: 49.5pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Run the following command to turn the slave CPU off:</div><div id="wwpID0EFHA" class="Code">echo 0 &gt; /sys/devices/system/cpu/cpuX/online</div><div id="wwpID0EEHA" class="Heading_5">To check CPU state</div><div id="wwpID0EDHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Run the following command:</div><div id="wwpID0ECHA" class="Code">cat /sys/devices/system/cpu/cpuX/online</div><div id="wwpID0EBHA" class="Body_Text">Where <span class="Code_Char">&lt;X&gt;</span> is the CPU core number. </div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /><hr color="#DEE4F0" /><table width="90%" align="center" summary=""><tr><td class="Footer_Left"><font color="gray"><b></b><br />
           Subject to Change | © 2017 by NVIDIA Corporation.
           All rights reserved.
        </font></td><td class="Footer_Right"><font color="gray"><div>PR-06076-R28</div><br /><div style="text-align: center; font-weight: bold;"><div>Revised: 05 Mar 2018 16:32:32</div></div></font></td></tr></table></footer></body></html>