<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Setting Up Your File System</title><link rel="Prev" href="jetson_txi_support.html" title="Previous" /><link rel="Next" href="hw_setup.html" title="Next" /><link rel="StyleSheet" href="css/rootfs_custom.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/rootfs_custom_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/rootfs_custom.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pZGirKliFH3493gmkHX8RvQ" class="ww_skin_page_body" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt" onload="Page.OnLoad('../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/rootfs_custom.html');"><header id="wwconnect_header"><div><table width="100%" align="center" summary=""><tr><td class="Header_Left"><img alt="NVIDIA Tegra" src="images/NVLogo_2D_H.jpg" width="204" height="44" border="0" /></td><td class="Header_Right"><div>NVIDIA Tegra Linux Driver Package</div><br />
           Development Guide <br /><font size="-1"><div>28.2 Release</div></font><br /></td></tr></table></div><!--     <br clear="all" />
 --><hr color="#DEE4F0" /><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwpID0E0TB0HA" class="Heading_1">Setting Up Your File System</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/rootfs_custom.html#wwpID0E0RB0HA">Sample Root File System</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/rootfs_custom.html#wwpID0E0NB0HA">Setting Up the Root File System</a></div></dd></dl></div><div id="wwpID0E0SB0HA" class="Body_Text">L4T requires a root file system. You must create a Linux host system and copy it to your reference board.</div><div id="wwpID0E0RB0HA" class="Heading_2">Sample Root File System</div><div id="wwpID0E0QB0HA" class="Body_Text">L4T comes with a pre-built sample root file system created for the Jetson&nbsp;TX1 or TX2 developer kit. If you wish to create an Ubuntu sample root file system, see:</div><div id="wwpID0E0PB0HA" class="Code"><span class="Hyperlink"><a href="https://wiki.ubuntu.com/ARM/RootfsFromScratch" target="external_window">https://wiki.ubuntu.com/ARM/RootfsFromScratch</a></span></div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 36pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 72pt"><div id="wwpID0EABA0OB0HA" class="Note_Text">Disclaimer</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 319.5pt"><div id="wwpID0EBAA0OB0HA" class="Cell_Text">The sample root file system is provided as a convenience. NVIDIA disclaims any obligations to provide support, including bug fixes and security updates, and provides no warranty for this software.</div><div id="wwpID0EAAA0OB0HA" class="Cell_Text">Customers are responsible for root file system selection and support.</div></td></tr></table></div><div id="wwpID0E0NB0HA" class="Heading_2">Setting Up the Root File System</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/rootfs_custom.html#wwpID0E0JB0HA">Step 1: Set Up the Root File System</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/rootfs_custom.html#wwpID0EXHA">Step 2: Copy the rootfs to the Device</a></div></dd></dl></div><div id="wwpID0E0MB0HA" class="Body_Text">Before booting the target board, configure the root file system (rootfs) to:</div><div id="wwpID0E0LB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Set up the rootfs</div><div id="wwpID0E0KB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Copy it to the rootfs on the device</div><div id="wwpID0E0JB0HA" class="Heading_3">Step 1: Set Up the Root File System</div><div id="wwpID0E0IB0HA" class="Body_Text">This procedure uses the sample file system provided by NVIDIA as the base. If you wish to use your own file system, set the <span class="Code_Char">LDK_ROOTFS_DIR</span> environment variable to point to the location of your rootfs and skip the steps for setting the root file system.</div><div id="wwpID0E0HB0HA" class="Heading_5">To set up the rootfs</div><div id="wwpID0E0GB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Download the following file to your home directory:</div><div id="wwpID0E0FB0HA" class="Code">Tegra-Linux-Sample-Root-Filesystem_&lt;release_type&gt;.tbz2</div><div id="wwpID0E0EB0HA" class="Number_Continue">This file contains the NVIDIA-provided sample root file system.</div><div id="wwpID0E0DB0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Extract the compressed file as follows:</div><div id="wwpID0E0CB0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Navigate to the rootfs directory of the extracted NVIDIA driver package.</div><div id="wwpID0E0BB0HA" class="Code_Indent">$ cd &lt;your_L4T_root&gt;/Linux_for_Tegra/rootfs</div><div id="wwpID0E0AB0HA" class="Number_Continue_2">Where <span class="Code_Char">&lt;your_L4T_root&gt;</span> is your L4T root directory, which is assumed to be your home directory (<span class="Code_Char">~</span>).</div><div id="wwpID0E6HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Extract the sample file system to the rootfs directory.</div><div id="wwpID0E5HA" class="Code_Indent">$ sudo tar -jxpf ../../Tegra-Linux-Sample-Root-Filesystem_&lt;release_type&gt;.tbz2</div><div id="wwpID0E4HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Run the <span class="Code_Char">apply_binaries.sh</span> script to copy the NVIDIA user space libraries into the target file system.</div><div id="wwpID0E3HA" class="Code">$ cd ..</div><div id="wwpID0E2HA" class="Code">$ sudo ./apply_binaries.sh</div><div id="wwpID0E1HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>If you are using a different rootfs, or if you have already configured your rootfs, apply the NVIDIA user space libraries by setting the <span class="Code_Char">LDK_ROOTFS_DIR</span> environment variable to point to your rootfs. Then run the script, as shown above, to copy the binaries into your target file system.</div><div id="wwpID0EZHA" class="List_Continue">If the <span class="Code_Char">apply_binaries.sh</span> script installs the binaries correctly, the last message output from the script is “Success!”.</div><div id="wwpID0EYHA" class="Number_Continue">You have now completed setting up the root filesystem. Proceed to flash the rootfs onto the target Tegra device.</div><div id="wwpID0EXHA" class="Heading_3">Step 2: Copy the rootfs to the Device</div><div id="wwpID0EWHA" class="Body_Text">Use these procedures to copy the file system to the Tegra device.</div><div id="wwpID0EVHA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Pick a device to place your rootfs.</div><div id="wwpID0EUHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>If you are using the internal EMMC, skip ahead to <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/flashing.html#" title="Flashing and Booting the Target Device">Flashing and Booting the Target Device</a></span>.</div><div id="wwpID0ETHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>If you prefer to use an external storage device for the root filesystem, use the following procedure.</div><div id="wwpID0ESHA" class="Heading_5">To copy the file system to an external storage device</div><div id="wwpID0ERHA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Plug your rootfs device into the host system.</div><div id="wwpID0EQHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>If your device is not formatted as Ext4, enter the following command to format it with an Ext4 file system:</div><div id="wwpID0EPHA" class="Code">$ sudo mkfs.ext4 /dev/sd&lt;port&gt;&lt;device_number&gt;</div><div id="wwpID0EOHA" class="Number_Continue">Where:</div><div id="wwpID0ENHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;port&gt;</span> is the port to which your device is mounted.</div><div id="wwpID0EMHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">&lt;device_number&gt;</span> is the device number of the device attached to the port. You can use the <span class="Code_Char">dmesg</span> command to determine the port.</div><div id="wwpID0ELHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>If needed, mount your device with the following command:</div><div id="wwpID0EKHA" class="Code">$ sudo mount /dev/sdX1 &lt;mntpoint&gt;</div><div id="wwpID0EJHA" class="Number_Continue">Where <span class="Code_Char">&lt;mntpoint&gt;</span> is the mount point on the host system for your rootfs device.</div><div id="wwpID0EIHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Copy the file system. If <span class="Code_Char">LDK_ROOTFS_DIR</span> is set, execute these commands:</div><div id="wwpID0EHHA" class="Code">$ cd ${LDK_ROOTFS_DIR}</div><div id="wwpID0EGHA" class="Code">$ sudo cp -a * &lt;mntpoint&gt; &amp;&amp; sync</div><div id="wwpID0EFHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>5.	</span></span>If it is not set, copy the rootfs directory that is included in the release by executing the following commands:</div><div id="wwpID0EEHA" class="Code">$ cd &lt;your_L4T_root&gt;/Linux_for_Tegra/rootfs</div><div id="wwpID0EDHA" class="Code">$ sudo cp -a * &lt;mntpoint&gt; &amp;&amp; sync</div><div id="wwpID0ECHA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>6.	</span></span>After copying the content to the external disk or device, unmount the disk and connect it to the target Tegra device. </div><div id="wwpID0EBHA" class="Body_Text">Proceed to  <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/flashing.html#" title="Flashing and Booting the Target Device">Flashing and Booting the Target Device</a></span>.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /><hr color="#DEE4F0" /><table width="90%" align="center" summary=""><tr><td class="Footer_Left"><font color="gray"><b></b><br />
           Subject to Change | © 2017 by NVIDIA Corporation.
           All rights reserved.
        </font></td><td class="Footer_Right"><font color="gray"><div>PR-06076-R28</div><br /><div style="text-align: center; font-weight: bold;"><div>Revised: 05 Mar 2018 16:32:27</div></div></font></td></tr></table></footer></body></html>