<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Display Configuration and Bringup</title><link rel="Prev" href="kernel_boot_time.html" title="Previous" /><link rel="Next" href="tx1_toolchain.html" title="Next" /><link rel="StyleSheet" href="css/display_configuration.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/display_configuration_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="phHYiohk6MwD8RVUwbS610g" class="ww_skin_page_body" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt" onload="Page.OnLoad('../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html');"><header id="wwconnect_header"><div><table width="100%" align="center" summary=""><tr><td class="Header_Left"><img alt="NVIDIA Tegra" src="images/NVLogo_2D_H.jpg" width="204" height="44" border="0" /></td><td class="Header_Right"><div>NVIDIA Tegra Linux Driver Package</div><br />
           Development Guide <br /><font size="-1"><div>28.2 Release</div></font><br /></td></tr></table></div><!--     <br clear="all" />
 --><hr color="#DEE4F0" /><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwpID0E0GF0HA" class="Heading_2_Top">Display Configuration and Bringup</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html#wwpID0E0EF0HA">Setting HDMI or DP Screen Resolution</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html#wwpID0E0QE0HA">Mirroring or Extending Displays</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html#wwpID0E0HE0HA">Determining Display Timing Values</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html#wwpID0E02D0HA">Configuring the Display Serial Interface </a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html#wwpID0E01C0HA">Configuring the Display Port </a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html#wwpID0E0EC0HA">Configuring Pulse Width Modulation</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html#wwpID0E02B0HA">Hard-coding Kernel Display Boot Mode for HDMI</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html#wwpID0E5HA">Guidelines</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html#wwpID0E1HA">Panel Driver and Device Tree</a></div></dd></dl></div><div id="wwpID0E0FF0HA" class="Body_Text">Tegra BSP supports a variety of modes on HDMI and DP monitors, including the CEA modes and detailed timing modes from the display EDID.</div><div id="wwpID0E0EF0HA" class="Heading_3">Setting HDMI or DP Screen Resolution</div><div id="wwpID0E0DF0HA" class="Body_Text">The screen resolution can be modified using xrandr utility or RandR protocol available at:</div><div id="wwpID0E0CF0HA" class="Code"><span class="Hyperlink"><a href="https://www.x.org/releases/X11R7.5/doc/man/man1/xrandr.1.html" target="external_window">https://www.x.org/releases/X11R7.5/doc/man/man1/xrandr.1.html</a></span></div><div id="wwpID0E0BF0HA" class="Code"><span class="Hyperlink"><a href="https://cgit.freedesktop.org/xorg/proto/randrproto/tree/randrproto.txt" target="external_window">https://cgit.freedesktop.org/xorg/proto/randrproto/tree/randrproto.txt</a></span></div><div id="wwpID0E0AF0HA" class="Heading_5">To change the default HDMI/DP screen resolution</div><div id="wwpID0E06E0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Export the DISPLAY variable.</div><div id="wwpID0E05E0HA" class="Code">export DISPLAY=:0</div><div id="wwpID0E04E0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Obtain the applicable resolutions list.</div><div id="wwpID0E03E0HA" class="Code">xrandr</div><div id="wwpID0E02E0HA" class="List_Continue">The resulting output shows a list of the HDMI, DP, or DSI display settings, if connected.</div><div class="ww_skin_page_overflow"><div id="wwpID0E01E0HA" class="List_Continue"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image4_3.jpg" style="display: inline; left: 0pt; top: 0pt" alt="" /></div></div><div id="wwpID0E0ZE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Switch the resolution to the desired display resolution.</div><div id="wwpID0E0YE0HA" class="Code">xrandr --output HDMI-0 --mode &lt;res&gt;</div><div id="wwpID0E0XE0HA" class="Code">xrandr --output DP-0 --mode &lt;res&gt;</div><div id="wwpID0E0WE0HA" class="List_Continue">Where <span class="Code_Char">&lt;res&gt;</span> is the desired resolution, for example, <span class="Code_Char">640x480</span>.</div><div id="wwpID0E0VE0HA" class="List_Continue">The highest rate supported, for the specified mode, is automatically chosen.</div><div id="wwpID0E0UE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Select the desired refresh rate.</div><div id="wwpID0E0TE0HA" class="Code">xrandr --output HDKI-0 --moe &lt;res&gt; --rate &lt;refresh_rate&gt;</div><div id="wwpID0E0SE0HA" class="List_Continue">Where <span class="Code_Char">&lt;refresh_rate&gt;</span> is the desired refresh rate, for example, 60.</div><div id="wwpID0E0RE0HA" class="List_Continue">Use <span class="Code_Char">xrandr</span> to display all the supported refresh rates for a mode.</div><div id="wwpID0E0QE0HA" class="Heading_3">Mirroring or Extending Displays</div><div id="wwpID0E0PE0HA" class="Body_Text">When multiple displays are connected, you can choose the relative position of each monitor (HDMI or DP) or panel (DSI).</div><div id="wwpID0E0OE0HA" class="Heading_5">To choose the relative position of each monitor</div><div id="wwpID0E0NE0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Execute the following command to mirror the HDMI monitor with the DSI panel.</div><div id="wwpID0E0ME0HA" class="Code">xrandr --output HDMI-0 --same-as DSI-0</div><div id="wwpID0E0LE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Execute the following command to extend the display environment by placing the HDMI monitor to the left of the DSI panel.</div><div id="wwpID0E0KE0HA" class="Code">xrandr --output HDMI-0 --left-of DSI-0</div><div id="wwpID0E0JE0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Execute this command to place the DP monitor to the right of the DSI panel.</div><div id="wwpID0E0IE0HA" class="Code">xrandr --output DP-0 --right-of DSI-0</div><div id="wwpID0E0HE0HA" class="Heading_3">Determining Display Timing Values</div><div id="wwpID0E0GE0HA" class="Body_Text">Use this procedure to determine the timing values when referring to the LCD specification and the signal polarities as well as the constraints for picking the <span class="Code_Char">ref_to_sync</span> values.</div><div id="wwpID0E0FE0HA" class="Heading_5">Display Controller Timing Diagram</div><div id="wwpID0E0EE0HA" class="Body_Text">The display controller timing for vertical and horizontal timing is as follows. Only the back porch can be a negative value, though it is typically positive.</div><div class="ww_skin_page_overflow"><div id="wwpID0E0DE0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image5.jpg" style="display: inline; left: 0pt; top: 0pt" alt="" /></div></div><div id="wwpID0E0CE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Strong">Back porch</span>—the distance between the trailing edge of the sync and the beginning of the active area. Some LCD specifications define the back porch from the leading edge of the sync rather than the trailing edge.</div><div id="wwpID0E0BE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Strong">Front porch</span>—the distance between the end of the active area and the leading edge of the sync.</div><div id="wwpID0E0AE0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Strong">Vertical timing</span>—is in terms of lines.</div><div id="wwpID0E06D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Strong">Horizontal timing</span>—is in terms of pixels.</div><div id="wwpID0E05D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Strong">Sync polarity</span>—is in terms of the sync width; active low means the sync width pulse will be low, as in the diagram.</div><div id="wwpID0E04D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Strong">Pixel clock polarity</span>—is in terms of when data will transition; an active low pixel clock means that the data changes on the falling edge of the clock, to be latched on the rising edge.</div><div id="wwpID0E03D0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Strong">Data enable polarity</span> (also called <span class="Strong">display enable</span> or <span class="Strong">DE</span>)—selects the level of the signal during the active area of display. The diagram has DE active high.</div><div id="wwpID0E02D0HA" class="Heading_3">Configuring the Display Serial Interface </div><div id="wwpID0E01D0HA" class="Body_Text">Use these procedures to configure the Display Serial Interface (DSI). Both the DSI driver and the DSI panel must be configured. DSI driver configuration is set through the device tree. Details about display device tree bindings is available at:</div><div id="wwpID0E0ZD0HA" class="Code">&lt;top&gt;/kernel/kernel-4.4/Documentation/devicetree/bindings/video/nvidia,tegra&lt;186|210&gt;-dc.txt</div><div id="wwpID0E0YD0HA" class="Code">&lt;top&gt;/kernel/kernel-4.4/Documentation/devicetree/bindings/video/nvidia,tegra&lt;t-arch&gt;-dsi.txt</div><div id="wwpID0E0XD0HA" class="Body_Text" style="margin-bottom: 0pt; margin-top: 0pt">&nbsp;</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 36pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0WD0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 342pt"><div id="wwpID0EAAA0WD0HA" class="Note_Text">Configuring the DSI panel requires the panel specification from the vendor. You must use the correct display configuration file for your particular platform.</div></td></tr></table></div><div id="wwpID0E0VD0HA" class="Heading_5">To configure the DSI driver</div><div id="wwpID0E0UD0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Locate and edit the appropriate display configuration file depending on your release at:</div><div id="wwpID0E0TD0HA" class="Code">&lt;top&gt;/hardware/nvidia/platform/tegra/common/kernel-dts/ /panel-&lt;panel_type&gt;.dtsi</div><div id="wwpID0E0SD0HA" class="List_Continue">Where <span class="Code_Char">&lt;panel_type&gt;</span> specifies the characteristics encoded for the panel, using the format:</div><div id="wwpID0E0RD0HA" class="Code">brand-scrRes-scrSize</div><div id="wwpID0E0QD0HA" class="List_Continue">For example, the file <span class="Code_Char">panel-p-wuxga-10-1.dtsi</span> configures the following panel:</div><div id="wwpID0E0PD0HA" class="Code">Filename: panel-p-wuxga-10-1.dtsi</div><div id="wwpID0E0OD0HA" class="Code">&nbsp;</div><div id="wwpID0E0ND0HA" class="Code">brand   = p     = Panasonic</div><div id="wwpID0E0MD0HA" class="Code">scrRes  = wuxga = WUXGA 1920 x 1200</div><div id="wwpID0E0LD0HA" class="Code">scrSize = 10-1  = 10.1 inches</div><div id="wwpID0E0KD0HA" class="List_Continue">The <span class="Code_Char">dsi_bindings</span> structure encapsulates all the controller configuration options, specified in files at:</div><div id="wwpID0E0JD0HA" class="Code">&lt;top&gt;/kernel/kernel-4.4/Documentation/devicetree/bindings/video</div><div id="wwpID0E0ID0HA" class="List_Continue">The naming format is:</div><div id="wwpID0E0HD0HA" class="Code">nvidia,tegra&lt;t-arch&gt;-&lt;node_type&gt;.txt</div><div id="wwpID0E0GD0HA" class="List_Continue">Where <span class="Code_Char">&lt;node_type&gt;</span> is <span class="Code_Char">dc</span>, <span class="Code_Char">hdmi</span>, dp, or <span class="Code_Char">dsi</span>.</div><div id="wwpID0E0FD0HA" class="Heading_5">To configure the DSI panel</div><div id="wwpID0E0ED0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Configure the regulators.</div><div id="wwpID0E0DD0HA" class="List_Continue">The details depend on the board schematics.</div><div id="wwpID0E0CD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Configure the General-Purpose Input/Outputs (GPIOs) required for resetting and backlighting the panel.</div><div id="wwpID0E0BD0HA" class="List_Continue">Some panels are more demanding and may require other GPIOs as well.</div><div id="wwpID0E0AD0HA" class="List_Number"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Set up the initialize/suspend sequence.</div><div id="wwpID0E06C0HA" class="List_Continue">These are passed as device tree bindings in the power tree for the platform and read in the following file:</div><div id="wwpID0E05C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Jetson TX1:</div><div id="wwpID0E04C0HA" class="Code_Indent">&lt;top&gt;/kernel/display/drivers/video/tegra/dc/panel/board-panel.c</div><div id="wwpID0E03C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Jetson TX2:</div><div id="wwpID0E02C0HA" class="Code_Indent">&lt;top&gt;/kernel/t18x/drivers/video/tegra/dc/nvdisp/nvdisp_stub.c</div><div id="wwpID0E01C0HA" class="Heading_3">Configuring the Display Port </div><div id="wwpID0E0ZC0HA" class="Body_Text">This topic describes how to enable the Display Port (DP), to map DP to a particular display controller (dc), and assign SOR bindings or enable dpaux appropriately.</div><div id="wwpID0E0YC0HA" class="Body_Text">The base device tree file is available at:</div><div id="wwpID0E0XC0HA" class="Code">&lt;top&gt;/hardware/nvidia/platfom/t18x/quill/kernel-dts/tegra186-quill-p3310-1000-c03-00-base.dts</div><div id="wwpID0E0WC0HA" class="Body_Text">Enable the following nodes in this file:</div><div id="wwpID0E0VC0HA" class="Code">host1x {</div><div id="wwpID0E0UC0HA" class="Code">	nvdisplay@15220000 {</div><div id="wwpID0E0TC0HA" class="Code">		status = “okay”;</div><div id="wwpID0E0SC0HA" class="Code">		nvidia,dc-or-node = "/host1x/sor";</div><div id="wwpID0E0RC0HA" class="Code">	};</div><div id="wwpID0E0QC0HA" class="Code">&nbsp;</div><div id="wwpID0E0PC0HA" class="Code">	sor {</div><div id="wwpID0E0OC0HA" class="Code">		status = “okay”;</div><div id="wwpID0E0NC0HA" class="Code">		dp-display {</div><div id="wwpID0E0MC0HA" class="Code">			status = “okay”;</div><div id="wwpID0E0LC0HA" class="Code">		};</div><div id="wwpID0E0KC0HA" class="Code">	};</div><div id="wwpID0E0JC0HA" class="Code">&nbsp;</div><div id="wwpID0E0IC0HA" class="Code">	dpaux@155c0000 {</div><div id="wwpID0E0HC0HA" class="Code">		status = “okay”;</div><div id="wwpID0E0GC0HA" class="Code">	};</div><div id="wwpID0E0FC0HA" class="Code">};</div><div id="wwpID0E0EC0HA" class="Heading_3">Configuring Pulse Width Modulation</div><div id="wwpID0E0DC0HA" class="Body_Text">Backlight control to the panel is done through Pulse Width Modulation (PWM) or Parametric Four-Wave Mixing (PWFM) or through the backlight device embedded in the panel.</div><div id="wwpID0E0CC0HA" class="Body_Text">The PFW and PFWM driver located at:</div><div id="wwpID0E0BC0HA" class="Code">&lt;top&gt;/kernel/kernel-4.4/drivers/video/backlight/pwm_bl.c</div><div id="wwpID0E0AC0HA" class="Body_Text">The driver file for the backlight device embedded in the panel is:</div><div id="wwpID0E06B0HA" class="Code">&lt;top&gt;/kernel/kernel-4.4/drivers/video/backlight/xxx.c</div><div id="wwpID0E05B0HA" class="Body_Text">For example, the backlight for the LG 5 inch 720p panel on <span class="Code_Char">pluto</span> is driven by the embedded max8831 integrated circuit (IC). That driver file is:</div><div id="wwpID0E04B0HA" class="Code">&lt;top&gt;/kernel/kernel-4.4/drivers/video/backlight/max8831_bl.c</div><div id="wwpID0E03B0HA" class="Body_Text">To make backlight increment in a linear manner to the brightness increment, backlight is calibrated and the corresponding values are stored in the backlight response curve.</div><div id="wwpID0E02B0HA" class="Heading_3">Hard-coding Kernel Display Boot Mode for HDMI</div><div id="wwpID0E01B0HA" class="Body_Text">The Linux kernel boot logs and text-mode login prompt fails to display on some monitors due to a known fbconsole pixel clock calculation issue.</div><div id="wwpID0E0ZB0HA" class="Body_Text">Affected monitors include:</div><div id="wwpID0E0YB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Acer S277HK</div><div id="wwpID0E0XB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Dell 24-inch 4K monitor</div><div id="wwpID0E0WB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Viewsonic VP2780</div><div id="wwpID0E0VB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>ASUS MX27UQ</div><div id="wwpID0E0UB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Samsung 8500 UHD TV</div><div id="wwpID0E0TB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>NEC MultiSync LCD2070VX</div><div id="wwpID0E0SB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>LG Flatron W2246</div><div id="wwpID0E0RB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>ASUS VW220TE</div><div id="wwpID0E0QB0HA" class="Body_Text">NVIDIA has packaged a utility to update the kernel DTB file and workaround this issue. </div><div id="wwpID0E0PB0HA" class="Heading_5">To update the kernel DTB file </div><div id="wwpID0E0OB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Navigate to the kernel directory at:</div><div id="wwpID0E0NB0HA" class="Code">&lt;top&gt;/Linux_for_Tegra/kernel</div><div id="wwpID0E0MB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>Execute this command to update the DTB:</div><div id="wwpID0E0LB0HA" class="Code">./enable-hard-coded-kernel-boot-display-mode.sh dtb/tegra186-quill-p3310-1000-c03-00-base.dtb</div><div id="wwpID0E0KB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Flash the system.</div><div id="wwpID0E0JB0HA" class="Body_Text">Upon successful booting, the fbconsole displays in the specified mode. The default display mode is 720x480p@60Hz CEA.</div><div id="wwpID0E0IB0HA" class="Body_Text">The DTB file locations are available at:</div><div id="wwpID0E0HB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>TX1:</div><div id="wwpID0E0GB0HA" class="Code">kernel/dtb/tegra210-jetson-tx1-p2597-2180-a01-devkit.dtb</div><div id="wwpID0E0FB0HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>TX2:</div><div id="wwpID0E0EB0HA" class="Code">kernel/dtb/tegra186-quill-p3310-1000-c03-00-base.dtb</div><div id="wwpID0E0DB0HA" class="Heading_5">To specify a different mode other than the default</div><div id="wwpID0E0CB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>1.	</span></span>Open the utility in your favorite editor.</div><div id="wwpID0E0BB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>2.	</span></span>In the properties array, update the values to the left of the : (colon) for each of the mode parameters.</div><div id="wwpID0E0AB0HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>3.	</span></span>Save the utility script and exit the editor.</div><div id="wwpID0E6HA" class="List_Number" style="margin-left: 54pt; text-indent: -18pt"><span class="WebWorks_Number" style="width: 18pt"><span>4.	</span></span>Re-execute the utility by using the instructions to <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/display_configuration.html#wwpID0E0PB0HA" title="Display Configuration and Bringup">update the kernel DTB file</a></span>.</div><div id="wwpID0E5HA" class="Heading_4">Guidelines</div><div id="wwpID0E4HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Any known working mode on the given Monitor/TV can be specified instead of the 720x480p mode.</div><div id="wwpID0E3HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>If the <span style="font-family: &quot;Courier New&quot;">nvidia,fbcon-default-mode</span> node already exists, the script may print an error message. It is safe to ignore this message.</div><div id="wwpID0E2HA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>By default, the HDMI is mapped to SOR1on both the platforms. If you updated it to SOR0, ensure that the node path is also updated and assigned to <span style="font-family: &quot;Courier New&quot;">fbcon_node</span> variable in the script.</div><div id="wwpID0E1HA" class="Heading_3">Panel Driver and Device Tree</div><div id="wwpID0EZHA" class="Body_Text">The source files and configuration files for the DSI panel driver and device tree examples are as follows.</div><div id="wwpID0EYHA" class="Heading_5">Internal DSI panel driver and device tree examples</div><div id="wwpID0EXHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Driver:</div><div id="wwpID0EWHA" class="Code">&lt;top&gt;/kernel/display/drivers/video/tegra/dc/panel/panel-s-wuxga-8-0.c</div><div id="wwpID0EVHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Device tree:</div><div id="wwpID0EUHA" class="List_Continue">Appropriate nodes must be enabled in the device tree. The base device tree file is available at:</div><div id="wwpID0ETHA" class="Code">&lt;top&gt;/hardware/nvidia/platform/t18x/quill/kernel-dts/tegra186-quill-p3310-1000-c03-00-base.dts</div><div id="wwpID0ESHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Enable the DC, DSI, and appropriate panel node. </div><div id="wwpID0ERHA" class="List_Bullet"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Update the dc-or-node property to map DSI to a particular controller as follows:</div><div id="wwpID0EQHA" class="Code_Indent">host1x {</div><div id="wwpID0EPHA" class="Code_Indent">nvdisplay@15200000 {</div><div id="wwpID0EOHA" class="Code_Indent">		status = “okay”;</div><div id="wwpID0ENHA" class="Code_Indent">		nvidia,dc-or-node = "/host1x/dsi";</div><div id="wwpID0EMHA" class="Code_Indent">};</div><div id="wwpID0ELHA" class="Code_Indent">	dsi {</div><div id="wwpID0EKHA" class="Code_Indent">		status = “okay”;</div><div id="wwpID0EJHA" class="Code_Indent">&nbsp;</div><div id="wwpID0EIHA" class="Code_Indent">panel-s-wuxga-8-0 {</div><div id="wwpID0EHHA" class="Code_Indent">			status = “okay”;</div><div id="wwpID0EGHA" class="Code_Indent">		};</div><div id="wwpID0EFHA" class="Code_Indent">	};</div><div id="wwpID0EEHA" class="Code_Indent">};</div><div id="wwpID0EDHA" class="Code_Indent">&nbsp;</div><div id="wwpID0EBHA" class="Code">&nbsp;</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /><hr color="#DEE4F0" /><table width="90%" align="center" summary=""><tr><td class="Footer_Left"><font color="gray"><b></b><br />
           Subject to Change | © 2017 by NVIDIA Corporation.
           All rights reserved.
        </font></td><td class="Footer_Right"><font color="gray"><div>PR-06076-R28</div><br /><div style="text-align: center; font-weight: bold;"><div>Revised: 05 Mar 2018 16:32:30</div></div></font></td></tr></table></footer></body></html>