<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="false" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>TX2 Boot Flow</title><link rel="Prev" href="bootloader_update_tx1.html" title="Previous" /><link rel="Next" href="bootloader_update_tx2.html" title="Next" /><link rel="StyleSheet" href="css/bootflow_tx2.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/bootflow_tx2_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_tx2.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pVmuKfA6NBk02H4bkfsSasg" class="ww_skin_page_body" style="background-attachment: scroll; background-image: url(&quot;watermark.png&quot;); background-position: center center; background-repeat: no-repeat; margin-left: 0pt; margin-right: 10pt" onload="Page.OnLoad('../index.html#page/Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_tx2.html');"><header id="wwconnect_header"><div><table width="100%" align="center" summary=""><tr><td class="Header_Left"><img alt="NVIDIA Tegra" src="images/NVLogo_2D_H.jpg" width="204" height="44" border="0" /></td><td class="Header_Right"><div>NVIDIA Tegra Linux Driver Package</div><br />
           Development Guide <br /><font size="-1"><div>28.2 Release</div></font><br /></td></tr></table></div><!--     <br clear="all" />
 --><hr color="#DEE4F0" /><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwpID0E0TE0HA" class="Heading_2_Top">TX2 Boot Flow</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_tx2.html#wwpID0E0FE0HA">BootROM</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_tx2.html#wwpID0E02D0HA">Boot Loader Components</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_tx2.html#wwpID0E0SD0HA">Common Driver Framework</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_tx2.html#wwpID0E0RC0HA">Microboot1</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_tx2.html#wwpID0E0XB0HA">TegraBoot</a></div></dd><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_tx2.html#wwpID0E0SB0HA">TegraBoot-BPMP </a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_tx2.html#wwpID0E0BB0HA">TegraBoot-CPU</a></div></dd></dl><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_tx2.html#wwpID0EVHA">CBoot</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/bootflow_tx2.html#wwpID0EFHA">U-Boot</a></div></dd></dl></div><div id="wwpID0E0SE0HA" class="Body_Text">The primary function of the Jetson TX2 boot software is to initialize the SOC (System On a Chip), including:</div><div id="wwpID0E0RE0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -9pt"><span class="WebWorks_Number" style="width: 9pt"><span>•	</span></span>Initializing MC/EMC/CPU</div><div id="wwpID0E0QE0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -9pt"><span class="WebWorks_Number" style="width: 9pt"><span>•	</span></span>Setting up security parameters</div><div id="wwpID0E0PE0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -9pt"><span class="WebWorks_Number" style="width: 9pt"><span>•	</span></span>Loading different firmware</div><div id="wwpID0E0OE0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -9pt"><span class="WebWorks_Number" style="width: 9pt"><span>•	</span></span>Maintaining Chain of Trust</div><div id="wwpID0E0NE0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -9pt"><span class="WebWorks_Number" style="width: 9pt"><span>•	</span></span>Setting memory carveouts for different firmware</div><div id="wwpID0E0ME0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -9pt"><span class="WebWorks_Number" style="width: 9pt"><span>•	</span></span>Flashing the device</div><div id="wwpID0E0LE0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -9pt"><span class="WebWorks_Number" style="width: 9pt"><span>•	</span></span>Booting to the operating system</div><div id="wwpID0E0KE0HA" class="Body_Text">Additionally, the Jetson TX2 boot software also performs other operations defined by product requirements, including but not limited to:</div><div id="wwpID0E0JE0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -9pt"><span class="WebWorks_Number" style="width: 9pt"><span>•	</span></span>Initialization of HDMI/DP</div><div id="wwpID0E0IE0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -9pt"><span class="WebWorks_Number" style="width: 9pt"><span>•	</span></span>Displaying the boot logo</div><div id="wwpID0E0HE0HA" class="Body_Text">The flow of control in the boot software is as follows.</div><div class="ww_skin_page_overflow"><div id="wwpID0E0GE0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/bootflow_tx2.1.1.jpg" style="display: inline; left: 0pt; top: 0pt" alt="" /></div></div><div id="wwpID0E0FE0HA" class="Heading_3">BootROM</div><div id="wwpID0E0EE0HA" class="Body_Text">The Jetson TX2 BootROM (BR) is hard-wired in the Tegra chip. It initializes the Boot Media and loads Microboot1 (MB1) from the Boot Media.</div><div id="wwpID0E0DE0HA" class="Body_Text">Multiple copies of the BootROM Boot Configuration Table (BR-BCT) may be stored at the start of the Boot-Media. The BR-BCT contains configuration parameters used by the BootROM for hardware initialization.</div><div id="wwpID0E0CE0HA" class="Body_Text">The BCT also contains information about the boot loader (BL), including:</div><div id="wwpID0E0BE0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Size</div><div id="wwpID0E0AE0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Entry point</div><div id="wwpID0E06D0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Load address</div><div id="wwpID0E05D0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Hash</div><div id="wwpID0E04D0HA" class="Body_Text">The BootROM uses this information to verify and load the boot loader. The boot flow is as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E03D0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image3.jpeg" style="display: inline; left: 0pt; top: 0pt" alt="C:\sw\swdocs\mobile\tegra\images\bdk_bootrom_flow.jpg" /></div></div><div id="wwpID0E02D0HA" class="Heading_3">Boot Loader Components</div><div id="wwpID0E01D0HA" class="Body_Text">The Jetson TX2 boot loader and flash components are:</div><div id="wwpID0E0ZD0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Common Driver Framework (CDF)</div><div id="wwpID0E0YD0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Microboot1 (MB1)</div><div id="wwpID0E0XD0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>TBoot-BPMP (MB2)</div><div id="wwpID0E0WD0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>CPU-BL</div><div id="wwpID0E0VD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>TBoot-CPU</div><div id="wwpID0E0UD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>CBoot</div><div id="wwpID0E0TD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>U-Boot</div><div id="wwpID0E0SD0HA" class="Heading_4">Common Driver Framework</div><div id="wwpID0E0RD0HA" class="Body_Text">MB1, TegraBoot-BPMP, and TegraBoot-CPU/CBoot each needs to use one of several drivers. Moreover, some libraries are common across the boot loader components. Instead of using separate sets of drivers and libraries, the binaries share a common pool of drivers and libraries called the Common Driver Framework (CDF). </div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 36pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA0QD0HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 342pt"><div id="wwpID0EAAA0QD0HA" class="Note_Text">Since U-Boot is built separately from the NVIDIA-proprietary bootloader software, it does not support or use CDF.</div></td></tr></table></div><div id="wwpID0E0OD0HA" class="Body_Text">The software design architecture using the Common Driver Framework is as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E0ND0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image4_2.jpg" style="display: inline; left: 0pt; top: 0pt" alt="" /></div></div><div id="wwpID0E0MD0HA" class="Body_Text">Common Driver Framework consists of:</div><div id="wwpID0E0LD0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Storage drivers like eMMC, QSPI, mSATA, and UFS </div><div id="wwpID0E0KD0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Host interface drivers like UART, USB</div><div id="wwpID0E0JD0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Display drivers</div><div id="wwpID0E0ID0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Debug and Console library</div><div id="wwpID0E0HD0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Libraries of other modules such as:</div><div id="wwpID0E0GD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Clock</div><div id="wwpID0E0FD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>SE</div><div id="wwpID0E0ED0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>PMIC</div><div id="wwpID0E0DD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Timer</div><div id="wwpID0E0CD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Fuse</div><div id="wwpID0E0BD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>GPIO</div><div id="wwpID0E0AD0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>PWM</div><div id="wwpID0E06C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>EEPROM</div><div id="wwpID0E05C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Keyboard</div><div id="wwpID0E04C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>PSCI</div><div id="wwpID0E03C0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -9pt"><span class="WebWorks_Number" style="width: 9pt"><span>•	</span></span>Software libraries such as:</div><div id="wwpID0E02C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Cryptographic</div><div id="wwpID0E01C0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Transport</div><div id="wwpID0E0ZC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Partition manager</div><div id="wwpID0E0YC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Sparse</div><div id="wwpID0E0XC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Transport libraries</div><div id="wwpID0E0WC0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>A decompression library that supports LZF, Zlib, and LZ4 </div><div id="wwpID0E0VC0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Code_Char">clib</span>, a dynamic memory allocation library, and a cache library</div><div id="wwpID0E0UC0HA" class="Body_Text">The CDF is provided at:</div><div id="wwpID0E0TC0HA" class="Code">&lt;top&gt;/vendor/nvidia/tegra/bootloader/partner/common/</div><div id="wwpID0E0SC0HA" class="Code">&lt;top&gt;/vendor/nvidia/tegra/bootloader/partner/t18x/common/</div><div id="wwpID0E0RC0HA" class="Heading_4">Microboot1</div><div id="wwpID0E0QC0HA" class="Body_Text">Jetson TX2 Microboot1 (MB1) is the first boot software component loaded by BR in SysRAM, and runs on BPMP. MB1 is considered as an extension to BR. MB1 provides extensive flexibility to alter or fix the boot sequence. This component also implements some delicate functionality like Denver initialization and security fabric changes.</div><div id="wwpID0E0PC0HA" class="Body_Text">Because MB1 is an extension to BootROM, it is signed and encrypted by an NVIDIA owned key (separate keys residing in BootROM). The following diagram shows the flow of control in MB1.</div><div class="ww_skin_page_overflow"><div id="wwpID0E0OC0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image5.jpeg" style="display: inline; left: 0pt; top: 0pt" alt="C:\sw\swdocs\mobile\tegra\images\bdk_microboot.jpg" /></div></div><div id="wwpID0E0NC0HA" class="Body_Text">MB1 is responsible for:</div><div id="wwpID0E0MC0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Firmware initialization, include MTS preboot, SPE, and CAN</div><div id="wwpID0E0LC0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Platform configuration which includes:</div><div id="wwpID0E0KC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Configuring pinmux</div><div id="wwpID0E0JC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Configuring GPIO </div><div id="wwpID0E0IC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Pad settings</div><div id="wwpID0E0HC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Prod settings</div><div id="wwpID0E0GC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Initializing rails including those required by CPU, memory, GPU, etc.</div><div id="wwpID0E0FC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>PMIC commands required by BR </div><div id="wwpID0E0EC0HA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Configuring SCR</div><div id="wwpID0E0DC0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Initialize the SDRAM based on the MB1 boot configuration table (MB1-BCT)</div><div id="wwpID0E0CC0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Load the firmware that initializes the CPU complex (CCplex)</div><div id="wwpID0E0BC0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Set the security settings</div><div id="wwpID0E0AC0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Configure pinmux/GPIO for the SoC</div><div id="wwpID0E06B0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Program the PMIC for the VDD_CPU and VDD_DDR rails</div><div id="wwpID0E05B0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Create carveouts</div><div id="wwpID0E04B0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Support flashing, available as a different <span class="Code_Char">mb1_recovery.bin</span> binary</div><div id="wwpID0E03B0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Support RCM boot by downloading a blob that contains the binaries, and loading binaries from that blob</div><div id="wwpID0E02B0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Load the next stage boot loader, TBoot-BPMP (MB2)</div><div id="wwpID0E01B0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Support SC7</div><div id="wwpID0E0ZB0HA" class="Body_Text">MB1 is owned by NVIDIA, and so is provided as a binary in the BSP package. Although it is provided as a binary, you can configure its behavior for a specific platform using its Boot Configuration Table, called MB1-BCT. MB1 reads MB1-BCT to configure the platform. </div><div id="wwpID0E0YB0HA" class="Body_Text">For information on MB1, see MB1 BCT<span class="Hyperlink"> </span>.</div><div id="wwpID0E0XB0HA" class="Heading_3">TegraBoot</div><div id="wwpID0E0WB0HA" class="Body_Text">Jetson TX2 TegraBoot is the boot loader component that executes after MB1. This component is divided into two portions: </div><div id="wwpID0E0VB0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -13.5pt"><span class="WebWorks_Number" style="width: 13.5pt"><span>•	</span></span>TBoot-BPMP (MB2)</div><div id="wwpID0E0UB0HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -13.5pt"><span class="WebWorks_Number" style="width: 13.5pt"><span>•	</span></span>TBoot-CPU</div><div id="wwpID0E0TB0HA" class="Body_Text">The processor on which they are executing determines which component runs. Both are released to OEMs as source code for reference implementation.</div><div id="wwpID0E0SB0HA" class="Heading_4">TegraBoot-BPMP </div><div id="wwpID0E0RB0HA" class="Body_Text">This portion of Jetson TX2 TegraBoot runs on BPMP (tboot-BPMP). There are two variants of TegraBoot-BPMP (MB2):</div><div id="wwpID0E0QB0HA" class="List_Bullet" style="margin-left: 58.5pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>One used for cold boot</div><div id="wwpID0E0PB0HA" class="List_Bullet" style="margin-left: 58.5pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>One for recovery boot</div><div id="wwpID0E0OB0HA" class="Body_Text">Both are generated using different configuration files and make files. </div><div id="wwpID0E0NB0HA" class="Body_Text">TBoot-BPMP is responsible for:</div><div id="wwpID0E0MB0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Loading and initializing firmware (FW) components For details see <span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/security.html#" title="Security">Security</a></span>.</div><div id="wwpID0E0LB0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Creating carveouts</div><div id="wwpID0E0KB0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Completing CPU initialization </div><div id="wwpID0E0JB0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Loading the next stage boot loader </div><div id="wwpID0E0IB0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Supporting flashing</div><div id="wwpID0E0HB0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Supporting RCM boot; which is the TegraBoot-BPMP (MB2) recovery boot</div><div id="wwpID0E0GB0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Reading PMIC reset reason</div><div id="wwpID0E0FB0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Loading the bootloader device tree and passing the device tree load address to CPU-BL</div><div id="wwpID0E0EB0HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Giving control to BPMP-FW</div><div id="wwpID0E0DB0HA" class="Body_Text">The components of TBoot-BPMP are as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0E0CB0HA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image6.jpg" style="display: inline; left: 0pt; top: 0pt" alt="A screenshot of a video game Description generated with high confidence" /></div></div><div id="wwpID0E0BB0HA" class="Heading_4">TegraBoot-CPU</div><div id="wwpID0E0AB0HA" class="Body_Text">Jetson TX2 TegraBoot-CPU is responsible for:</div><div id="wwpID0E6HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Flashing</div><div id="wwpID0E5HA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>RCM boot</div><div id="wwpID0E4HA" class="Body_Text">The flow for RCM boot is similar to a cold boot except that the binaries are transferred from the host over USB and loaded directly to SDRAM. TOS and BPMP-FW are not loaded in this path.</div><div id="wwpID0E3HA" class="Body_Text">&nbsp;</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 36pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABA2HA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 342pt"><div id="wwpID0EAAA2HA" class="Note_Text">As soon as the CPU starts running, it starts in EL3 mode. The TOS monitor code completes its initialization and gives control to the TegraBoot-CPU. It then initializes the USB and starts the 3P protocol to flash the device.</div></td></tr></table></div><div id="wwpID0E1HA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -13.5pt"><span class="WebWorks_Number" style="width: 13.5pt"><span>•	</span></span>For normal flashing TegraBoot-CPU takes the binaries from the host one-by-one and flashes them to the device. </div><div id="wwpID0EZHA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -13.5pt"><span class="WebWorks_Number" style="width: 13.5pt"><span>•	</span></span>In RCM boot, TegraBoot-CPU takes the binaries from the blob downloaded by MB1. The binaries are not flashed onto the device. </div><div id="wwpID0EYHA" class="Body_Text">TBoot-CPU can also support cold boot by integrating the relevant libraries such as  <span class="Code_Char">linuxboot</span>, etc.. However this version of TBoot-CPU is not tested or maintained.</div><div id="wwpID0EXHA" class="Body_Text">The components of TBoot-CPU are as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0EWHA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image7.jpg" style="display: inline; left: 0pt; top: 0pt" alt="" /></div></div><div id="wwpID0EVHA" class="Heading_3">CBoot</div><div id="wwpID0EUHA" class="Body_Text">Jetson TX2 CBoot is the primary CPU boot loader used on mobile platforms in the cold boot path. CBoot is feature-rich boot loader that:</div><div id="wwpID0ETHA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -13.5pt"><span class="WebWorks_Number" style="width: 13.5pt"><span>•	</span></span> Boots the kernel</div><div id="wwpID0ESHA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -13.5pt"><span class="WebWorks_Number" style="width: 13.5pt"><span>•	</span></span>Supports display, boot logo, and Verified boot</div><div id="wwpID0ERHA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -13.5pt"><span class="WebWorks_Number" style="width: 13.5pt"><span>•	</span></span>Based on the Little Kernel (LK) open source boot loader</div><div id="wwpID0EQHA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -13.5pt"><span class="WebWorks_Number" style="width: 13.5pt"><span>•	</span></span>Uses the interrupt and scheduling frameworks of LKC</div><div id="wwpID0EPHA" class="List_Bullet" style="margin-left: 49.5pt; text-indent: -13.5pt"><span class="WebWorks_Number" style="width: 13.5pt"><span>•	</span></span>Uses CDF for frameworks, drivers, and libraries</div><div class="ww_skin_page_overflow"><table class="Table_Normal" style="margin-left: 36pt" cellspacing="0" summary=""><tr><td style="background-color: #76B900; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 49.5pt"><div id="wwpID0EABAOHA" class="Note_Image">Note:</div></td><td style="background-color: #DDEEBF; background-position: right center; border-bottom-color: Silver; border-bottom-style: solid; border-bottom-width: thin; border-left-color: Silver; border-left-style: solid; border-left-width: thin; border-right-color: Silver; border-right-style: solid; border-right-width: thin; border-top-color: Silver; border-top-style: solid; border-top-width: thin; padding-bottom: 3pt; padding-left: 3pt; padding-right: 3pt; padding-top: 3pt; vertical-align: top; width: 342pt"><div id="wwpID0EAAAOHA" class="Note_Text">As soon as the CPU starts running, it starts in EL3 mode and begins executing TOS. TOS completes its initialization and passes control to CBoot in EL2 mode.</div></td></tr></table></div><div id="wwpID0ENHA" class="Body_Text">BL and Kernel use separate device trees stored in separate partitions. CBoot is responsible for:</div><div id="wwpID0EMHA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Parsing the CPU-BL parameters and initializing the boot loader device tree</div><div id="wwpID0ELHA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Booting to the kernel or chaining to U-Boot to boot the kernel</div><div id="wwpID0EKHA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Supporting the update mechanism</div><div id="wwpID0EJHA" class="List_Bullet_2"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Loading the recovery kernel</div><div id="wwpID0EIHA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span>Verified boot</div><div id="wwpID0EHHA" class="Body_Text">The components of Cboot are as follows:</div><div class="ww_skin_page_overflow"><div id="wwpID0EGHA" class="Body_Text"><img class="Default" src="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/images/image8.jpg" style="display: inline; left: 0pt; top: 0pt" alt="A screenshot of a cell phone Description generated with very high confidence" /></div></div><div id="wwpID0EFHA" class="Heading_3">U-Boot</div><div id="wwpID0EEHA" class="Body_Text">U-Boot is the default boot loader for NVIDIA® Tegra® Linux Driver Package. </div><div id="wwpID0EDHA" class="Body_Text">For more information, see:</div><div id="wwpID0ECHA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/uboot_guide.html#" title="U-Boot Customization">U-Boot Customization</a></span></div><div id="wwpID0EBHA" class="List_Bullet" style="margin-left: 54pt"><span class="WebWorks_Number" style="width: 18pt"><span>•	</span></span><span class="Hyperlink"><a href="../Tegra%20Linux%20Driver%20Package%20Development%20Guide/mb1_platform_config.html#" title="TX2 MB1 Platform Configuration">TX2 MB1 Platform Configuration</a></span></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><br /><hr color="#DEE4F0" /><table width="90%" align="center" summary=""><tr><td class="Footer_Left"><font color="gray"><b></b><br />
           Subject to Change | © 2017 by NVIDIA Corporation.
           All rights reserved.
        </font></td><td class="Footer_Right"><font color="gray"><div>PR-06076-R28</div><br /><div style="text-align: center; font-weight: bold;"><div>Revised: 05 Mar 2018 16:32:28</div></div></font></td></tr></table></footer></body></html>